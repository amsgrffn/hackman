{"version":3,"file":"index.js","sources":["../js/carousel-continuous.js","../js/masonry.js","../js/index.js"],"sourcesContent":["/**\n * Continuous Scroll Featured Posts Carousel\n * Position-preserving implementation with pause functionality\n */\n\nclass ContinuousCarousel {\n    constructor(element) {\n        // Main elements\n        this.carousel = element;\n        this.track = this.carousel.querySelector('.carousel-track');\n        this.slides = Array.from(this.carousel.querySelectorAll('.carousel-slide'));\n\n        // Control buttons\n        this.slowDownButton = this.carousel.querySelector('.carousel-button.slow-down');\n        this.speedUpButton = this.carousel.querySelector('.carousel-button.speed-up');\n        this.pauseButton = this.carousel.querySelector('.carousel-button.pause-toggle');\n\n        // Configuration\n        this.baseSpeed = 0.05; // Base speed in pixels per millisecond\n        this.speedMultipliers = {\n            slow: 0.5,    // Half speed\n            normal: 1.0,  // Normal speed\n            fast: 2.0     // Double speed\n        };\n        this.hoverMultiplier = 0.4; // 40% of normal speed when hovering\n\n        // State tracking\n        this.currentSpeedSetting = 'normal';\n        this.isHovering = false;\n        this.isPaused = false;\n        this.position = 0;\n        this.lastTimestamp = null;\n        this.totalWidth = 0;\n        this.animationId = null;\n\n        // Only initialize if we have enough slides\n        if (this.slides.length > 0) {\n            this.init();\n        }\n    }\n\n    init() {\n        // Calculate slide dimensions\n        this.calculateDimensions();\n\n        // Clone slides to create continuous effect\n        this.cloneSlides();\n\n        // Add event listeners\n        this.addSpeedControls();\n        this.addHoverEffect();\n        this.addPauseControl();\n\n        // Handle window resize\n        this.debouncedResize = this.debounce(this.handleResize.bind(this), 150);\n        window.addEventListener('resize', this.debouncedResize);\n\n        // Start the animation\n        this.startAnimation();\n\n        this.hasCloned = false;\n\n    }\n\n    calculateDimensions() {\n        if (this.slides.length === 0) return;\n\n        // Get slide width including margin\n        const slide = this.slides[0];\n        const style = window.getComputedStyle(slide);\n        const marginRight = parseInt(style.marginRight || 0);\n        this.slideWidth = slide.offsetWidth + marginRight;\n\n        // Calculate total width to scroll (width of 6 slides)\n        // We'll reset position after scrolling this distance\n        this.totalWidth = this.slideWidth * 6;\n    }\n\n   cloneSlides() {\n       if (this.hasCloned) return; // ✅ Prevent repeated cloning\n       this.hasCloned = true;\n\n       const minSlidesNeeded = Math.ceil(window.innerWidth / this.slideWidth) * 2;\n\n       // How many sets of clones we need\n       const setsNeeded = Math.ceil(minSlidesNeeded / this.slides.length);\n\n       for (let i = 0; i < setsNeeded; i++) {\n           this.slides.forEach(slide => {\n               const clone = slide.cloneNode(true);\n               clone.setAttribute('aria-hidden', 'true'); // Optional, for accessibility\n               this.track.appendChild(clone);\n           });\n       }\n\n       // Refresh the slides list to include clones\n       this.slides = Array.from(this.track.querySelectorAll('.carousel-slide'));\n   }\n\n\n    addSpeedControls() {\n        if (!this.slowDownButton || !this.speedUpButton) return;\n\n        // Slow down button\n        this.slowDownButton.addEventListener('click', () => {\n            if (this.currentSpeedSetting === 'normal') {\n                this.currentSpeedSetting = 'slow';\n            } else if (this.currentSpeedSetting === 'fast') {\n                this.currentSpeedSetting = 'normal';\n            }\n        });\n\n        // Speed up button\n        this.speedUpButton.addEventListener('click', () => {\n            if (this.currentSpeedSetting === 'normal') {\n                this.currentSpeedSetting = 'fast';\n            } else if (this.currentSpeedSetting === 'slow') {\n                this.currentSpeedSetting = 'normal';\n            }\n        });\n    }\n\n    addHoverEffect() {\n        // Slow down on hover\n        this.track.addEventListener('mouseenter', () => {\n            this.isHovering = true;\n        });\n\n        // Resume normal speed on mouse leave\n        this.track.addEventListener('mouseleave', () => {\n            this.isHovering = false;\n        });\n    }\n\n    addPauseControl() {\n        if (!this.pauseButton) return;\n\n        this.pauseButton.addEventListener('click', () => {\n            this.isPaused = !this.isPaused;\n\n            // Update button state and accessibility\n            if (this.isPaused) {\n                this.pauseButton.setAttribute('data-state', 'paused');\n                this.pauseButton.setAttribute('aria-label', 'Play');\n            } else {\n                this.pauseButton.setAttribute('data-state', 'playing');\n                this.pauseButton.setAttribute('aria-label', 'Pause');\n            }\n        });\n    }\n\n    getCurrentSpeed() {\n        // If paused, return 0 speed\n        if (this.isPaused) {\n            return 0;\n        }\n\n        // Calculate current speed based on settings and hover state\n        let multiplier = this.speedMultipliers[this.currentSpeedSetting];\n\n        // Apply hover effect if hovering\n        if (this.isHovering) {\n            multiplier *= this.hoverMultiplier;\n        }\n\n        return this.baseSpeed * multiplier;\n    }\n\n    startAnimation() {\n        // Start the animation loop\n        this.lastTimestamp = performance.now();\n        this.animateCarousel(this.lastTimestamp);\n    }\n\n    animateCarousel(timestamp) {\n        const elapsed = timestamp - this.lastTimestamp;\n        this.lastTimestamp = timestamp;\n\n        const pixelsToMove = elapsed * this.getCurrentSpeed();\n        this.position -= pixelsToMove;\n\n        // ✅ Instead of resetting at totalWidth (visible reset), loop at halfway point\n        const resetPoint = this.track.scrollWidth / 2;\n        if (Math.abs(this.position) >= resetPoint) {\n            this.position += resetPoint;\n        }\n\n        this.track.style.transform = `translateX(${this.position}px)`;\n        this.animationId = requestAnimationFrame(this.animateCarousel.bind(this));\n    }\n\n    debounce(fn, delay) {\n        let timeout;\n        return (...args) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => fn(...args), delay);\n        };\n    }\n\n\n    handleResize() {\n        // Recalculate dimensions\n        this.calculateDimensions();\n\n        // Check if we need more clones\n        const currentSlides = this.carousel.querySelectorAll('.carousel-slide');\n        const minSlidesNeeded = Math.ceil(window.innerWidth / this.slideWidth) * 2;\n\n        if (currentSlides.length < minSlidesNeeded) {\n            this.cloneSlides();\n        }\n    }\n}\n\n/**\n * Initialize the carousel when the DOM is loaded\n */\nfunction initContinuousCarousel() {\n    const carouselElement = document.querySelector('.featured-carousel');\n    if (carouselElement && carouselElement.querySelector('.carousel-track.continuous')) {\n        new ContinuousCarousel(carouselElement);\n    }\n}\n\nexport { initContinuousCarousel };\n","/**\n * Masonry Layout for Ghost Tag Pages\n * Maintains chronological left-to-right order while creating a true masonry effect\n */\n\nexport function initTagMasonry() {\n    // Only target tag page post containers\n    const containers = document.querySelectorAll('.tag-content .posts-container');\n\n    containers.forEach(container => {\n        setupMasonry(container);\n    });\n}\n\nasync function setupMasonry(container) {\n    // Check for native masonry support (future-proofing)\n    if (getComputedStyle(container).gridTemplateRows === 'masonry') {\n        console.log('Native masonry detected, skipping polyfill');\n        return;\n    }\n\n    // Add class for CSS targeting\n    container.classList.add('masonry-active');\n\n    // Flag to prevent infinite loops\n    let isResizing = false;\n\n    // Only apply masonry on desktop (768px+)\n    const applyMasonry = async () => {\n        // Prevent recursive calls\n        if (isResizing) return;\n        isResizing = true;\n\n        if (window.innerWidth < 768) {\n            // Reset to normal layout on mobile\n            container.style.gridAutoRows = '';\n            container.style.rowGap = '';\n            Array.from(container.children).forEach(item => {\n                item.style.gridRowEnd = '';\n            });\n            isResizing = false;\n            return;\n        }\n\n        // Apply masonry grid settings\n        container.style.gridAutoRows = '0px';\n        container.style.setProperty('row-gap', '1px', 'important');\n\n        // Get items and column gap\n        const items = Array.from(container.children);\n        const computedStyle = getComputedStyle(container);\n        const colGap = parseFloat(computedStyle.columnGap) || 32; // fallback to 2rem\n\n        // Wait for all media to load\n        await waitForMedia(container);\n\n        // Small delay to ensure layout has settled\n        await new Promise(resolve => setTimeout(resolve, 100));\n\n        // Calculate and apply heights\n        items.forEach(item => {\n            // Reset any previous grid-row-end\n            item.style.gridRowEnd = '';\n\n            // Force layout recalculation\n            void item.offsetHeight;\n\n            // Get the natural height\n            const rect = item.getBoundingClientRect();\n            const height = rect.height;\n\n            // With grid-auto-rows: 0px and row-gap: 1px, each \"row\" is 1px\n            // So we need exactly height + desired gap number of rows\n            const rowSpan = Math.round(height + colGap);\n            item.style.gridRowEnd = `span ${rowSpan}`;\n        });\n\n        // Reset flag after a delay\n        setTimeout(() => {\n            isResizing = false;\n        }, 200);\n    };\n\n    // Initial layout\n    await applyMasonry();\n\n    // Handle window resize with debouncing\n    let resizeTimeout;\n    window.addEventListener('resize', () => {\n        clearTimeout(resizeTimeout);\n        resizeTimeout = setTimeout(applyMasonry, 250);\n    });\n\n    // Optional: Re-layout when fonts load\n    if (document.fonts && document.fonts.ready) {\n        document.fonts.ready.then(() => {\n            setTimeout(applyMasonry, 100);\n        });\n    }\n}\n\n/**\n * Wait for all images and videos in container to load\n */\nasync function waitForMedia(container) {\n    const promises = [];\n\n    // Wait for images\n    const images = container.querySelectorAll('img');\n    images.forEach(img => {\n        if (!img.complete && img.src) {\n            promises.push(new Promise(resolve => {\n                img.addEventListener('load', resolve, { once: true });\n                img.addEventListener('error', resolve, { once: true });\n\n                // Timeout after 3 seconds per image\n                setTimeout(resolve, 3000);\n            }));\n        }\n    });\n\n    // Wait for videos\n    const videos = container.querySelectorAll('video');\n    videos.forEach(video => {\n        if (video.readyState < 4) {\n            promises.push(new Promise(resolve => {\n                video.addEventListener('loadedmetadata', resolve, { once: true });\n                video.addEventListener('error', resolve, { once: true });\n\n                // Timeout after 3 seconds per video\n                setTimeout(resolve, 3000);\n            }));\n        }\n    });\n\n    // Wait for all media with a global timeout\n    if (promises.length > 0) {\n        await Promise.race([\n            Promise.all(promises),\n            new Promise(resolve => setTimeout(resolve, 5000))\n        ]);\n    }\n}\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initTagMasonry);\n} else {\n    // Small delay to ensure everything is rendered\n    setTimeout(initTagMasonry, 100);\n}\n","// Import the continuous carousel module\nimport { initContinuousCarousel } from './carousel-continuous.js';\nimport { initTagMasonry } from './masonry.js';\n\n// JavaScript files are compiled and minified during the build process to the assets/built folder. See available scripts in the package.json file.\n// Import CSS\nimport \"../css/index.css\";\n// Import JS\n\n/**\n * Main JavaScript for the Hackman Blog Theme\n */\n\n /**\n  * Testimonials Configuration\n  * Controls the rotation of testimonial quotes\n  */\n  const TESTIMONIALS_CONFIG = {\n      updateInterval: 7000,\n      fadeTransitionMs: 500,\n      testimonials: [\n          {\n              quote: \"Newsletters suck. This one sucks the most.\",\n              author: \"John Bender\",\n              avatar: \"assets/media/avatars/bender.webp\",\n              link: \"https://thebreakfastclub.fandom.com/wiki/John_Bender\"\n          },\n          {\n              quote: \"I ain't got time to read this crap\",\n              author: \"Blain Cooper\",\n              avatar: \"assets/media/avatars/blain.webp\",\n              link: \"https://avp.fandom.com/wiki/Blain_Cooper\"\n          },\n          {\n              quote: \"My life's been one long, glorious ‘sitting on beach earning twenty percent' vibe-fest since becoming a member of You Can't Be Serious.\",\n              author: \"Hans Gruber\",\n              avatar: \"assets/media/avatars/hans.webp\",\n              link: \"https://en.wikipedia.org/wiki/Hans_Gruber\"\n          },\n          {\n              quote: \"I pity the fool who don't support You Can't Be Serious.\",\n              author: \"Clubber Lang\",\n              avatar: \"assets/media/avatars/clubber.webp\",\n              link: \"https://en.wikipedia.org/wiki/Clubber_Lang\"\n          },\n          {\n              quote: \"This site was, is, and will always be nada\",\n              author: \"Steff McKee\",\n              avatar: \"assets/media/avatars/steff.webp\",\n              link: \"https://en.wikipedia.org/wiki/Pretty_in_Pink\"\n          },\n          {\n              quote: \"You're God Damn right I read You Can't Be Serious.\",\n              author: \"Colonel Nathan R. Jessup\",\n              avatar: \"assets/media/avatars/jessup.webp\",\n              link: \"https://villains.fandom.com/wiki/Colonel_Nathan_R._Jessup\"\n          },\n          {\n              quote: \"These people are a stain on the internet. It's best to go about your daily routine and forget they exist.\",\n              author: \"Mildred Ratched\",\n              avatar: \"assets/media/avatars/mildred.webp\",\n              link: \"https://en.wikipedia.org/wiki/Nurse_Ratched\"\n          },\n          {\n              quote: \"You Can't Be Serious is 90% bullshit, but it’s entertaining. That’s why I read it because it entertains me.\",\n              author: \"Alonzo Harris\",\n              avatar: \"assets/media/avatars/alonzo.webp\",\n              link: \"https://villains.fandom.com/wiki/Alonzo_Harris\"\n          },\n          {\n              quote: \"All I need are some tasty waves, a cool buzz, You Can't Be Serious, and I'm fine.\",\n              author: \"Jeff Spicoli\",\n              avatar: \"assets/media/avatars/spicoli.webp\",\n              link: \"https://www.theringer.com/2020/08/26/movies/spicoli-fast-times-ridgemont-high-teen-movie\"\n          },\n          {\n              quote: \"Listen, I don't bother nobody and nobody bothers me but these brothers are pretty cool. They see \\u2018em you know.\",\n              author: \"Frank\",\n              avatar: \"assets/media/avatars/frank.webp\",\n              link: \"https://en.wikipedia.org/wiki/They_Live\"\n          },\n          {\n              quote: \"I won't be back.\",\n              author: \"Cyberdyne Model 101\",\n              avatar: \"assets/media/avatars/t800.avif\",\n              link: \"https://en.wikipedia.org/wiki/Terminator_(character)\"\n          },\n          {\n              quote: \"My God, it's full of bullshit.\",\n              author: \"David Bowman\",\n              avatar: \"assets/media/avatars/bowman.webp\",\n              link: \"https://2001.fandom.com/wiki/David_Bowman\"\n          },\n          {\n              quote: \"I'd rather staple my eyelids shut than read this trash.\",\n              author: \"Regina George\",\n              avatar: \"assets/media/avatars/regina.webp\",\n              link: \"https://en.wikipedia.org/wiki/Regina_George_(Mean_Girls)\"\n          },\n          {\n              quote: \"Hey man, I don't wanna rain on their parade, but these guys won't last seventeen days. Easy. Game over for them man.\",\n              author: \"Private William L. Hudson\",\n              avatar: \"assets/media/avatars/hudson.webp\",\n              link: \"https://en.wikipedia.org/wiki/Hudson_%28Aliens%29\"\n          },\n          {\n              quote: \"This quitting thing, it's a hard habit to break once you start, but one thing I'll never quit is this website.\",\n              author: \"Morris Buttermaker\",\n              avatar: \"assets/media/avatars/buttermaker.webp\",\n              link: \"https://en.wikipedia.org/wiki/The_Bad_News_Bears\"\n          },\n          {\n              quote: \"Blogs are teeming petri dishes of malignant mediocrity. Written by mental maggots consuming their own predigested pablum. You Can't Be Serious is the excretion.\",\n              author: \"Lydia Tár\",\n              avatar: \"assets/media/avatars/tar.webp\",\n              link: \"https://en.wikipedia.org/wiki/T%C3%A1r\"\n          }\n      ]\n  };\n\n  const WEATHER_ICONS = {\n      sunny: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M12 17a5 5 0 100-10 5 5 0 000 10zM12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      cloudy: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M18 10h-1.26A8 8 0 109 20h9a5 5 0 000-10z\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      'partly cloudy': `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M12 4a4 4 0 100 8 4 4 0 000-8zM18 10h-1.26A4 4 0 109 20h9a5 5 0 000-10z\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      rainy: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M20 16.58A5 5 0 0018 7h-1.26A8 8 0 104 15.25M8 13v8M16 13v8M12 15v8\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      drizzle: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M20 16.58A5 5 0 0018 7h-1.26A8 8 0 104 15.25M8 13v8M16 13v8M12 15v8\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      snow: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M20 17.58A5 5 0 0018 8h-1.26A8 8 0 104 16.25M8 16h.01M8 20h.01M12 18h.01M12 22h.01M16 16h.01M16 20h.01\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      foggy: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M3 8h18M3 12h18M3 16h18\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`\n  };\n\n// Rate limiter utility to prevent abuse\nconst RateLimiter = {\n    getKey(action) {\n        // Create a key based on the current minute\n        const now = Math.floor(Date.now() / 1000 / 60);\n        return `rateLimit_${action}_${now}`;\n    },\n\n    increment(action, limit) {\n        const key = this.getKey(action);\n        // Get current count or start at 0\n        let count = parseInt(sessionStorage.getItem(key) || '0');\n        count++;\n        // Store updated count\n        sessionStorage.setItem(key, count.toString());\n        return count <= limit;\n    },\n\n    checkLimit(action, limit = 60, windowMs = 60000) {\n        // Clean up old entries first\n        this.cleanup();\n        return this.increment(action, limit);\n    },\n\n    cleanup() {\n        const now = Math.floor(Date.now() / 1000 / 60);\n        // Iterate through all storage items\n        for (let i = 0; i < sessionStorage.length; i++) {\n            const key = sessionStorage.key(i);\n            if (key && key.startsWith('rateLimit_')) {\n                const timeKey = parseInt(key.split('_')[2]);\n                // Remove entries older than 5 minutes\n                if (now - timeKey > 5) {\n                    sessionStorage.removeItem(key);\n                }\n            }\n        }\n    }\n};\n\n// Sanitize text to prevent XSS attacks\nfunction sanitizeText(text, maxLength = 150) {\n    if (!text) return '';\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.textContent\n        .slice(0, maxLength)\n        .replace(/javascript:|data:|vbscript:|file:|blob:|ftp:|ws:|wss:/i, '')\n        .replace(/[<>'\"`{}()\\[\\]]/g, '');\n}\n\n// Add to Clipboard functionality\nasync function handleClipboardClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!RateLimiter.checkLimit('clipboardCopy', 10)) {\n        console.warn('Too many clipboard attempts');\n        return;\n    }\n\n    const article = e.target.closest('article');\n    if (!article) return;\n\n    const articleLink = article.querySelector('h2 a');\n    const url = articleLink ? articleLink.href : window.location.href;\n\n    try {\n        await navigator.clipboard.writeText(url);\n        const target = e.target.closest('.copy-url');\n        showCopyAlert(target, true);\n    } catch (err) {\n        console.error('Failed to copy URL:', err);\n        showCopyAlert(e.target, false);\n    }\n}\n\n// Show copy confirmation alert\nfunction showCopyAlert(target, success = true) {\n    if (!target) return;\n\n    const dropdown = target.closest('.dropdown');\n    if (!dropdown) return;\n\n    // Close the dropdown\n    const dropdownContent = dropdown.querySelector('.dropdown-content');\n    if (dropdownContent) {\n        dropdownContent.style.display = 'none';\n    }\n\n    const rect = dropdown.getBoundingClientRect();\n    const alertBox = document.createElement('div');\n    alertBox.className = 'copy-alert';\n    alertBox.setAttribute('role', 'alert');\n    alertBox.setAttribute('aria-live', 'polite');\n\n    Object.assign(alertBox.style, {\n        position: 'fixed',\n        left: `${rect.left + (rect.width / 2)}px`,\n        bottom: `${window.innerHeight - rect.top + 10}px`,\n        backgroundColor: success ? '#ffe680' : '#dc3545',\n        boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1), 0 0 0 1px rgb(17 24 39 / 0.1)',\n        color: '#403e38',\n        padding: '12px 24px',\n        borderRadius: '0.5rem',\n        zIndex: '1000',\n        fontSize: '16px',\n        fontWeight: '700',\n        opacity: '0',\n        transition: 'opacity 0.3s ease-in-out',\n        whiteSpace: 'nowrap',\n        transform: 'translateX(-50%)'\n    });\n\n    // Update the alert message to include an SVG thumbs up icon with a class for styling\n    alertBox.innerHTML = success ?\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"alert-icon success-icon\"><path d=\"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3\"></path></svg> URL copied to clipboard' :\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"alert-icon error-icon\"><path d=\"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17\"></path></svg> Failed to copy URL';\n    document.body.appendChild(alertBox);\n\n    requestAnimationFrame(() => {\n        alertBox.style.opacity = '1';\n        setTimeout(() => {\n            alertBox.style.opacity = '0';\n            setTimeout(() => alertBox.remove(), 350);\n        }, 2000);\n    });\n}\n\n// Get WhatsApp share URL\nfunction getWhatsAppShareUrl(url, title) {\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n    const whatsappBase = isMobile ? 'whatsapp://send' : 'https://web.whatsapp.com/send';\n    const shareText = `${title}\\n\\n${url}`;\n    return `${whatsappBase}?text=${encodeURIComponent(shareText)}`;\n}\n\n// Email sharing handler\nfunction handleEmailShare(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!RateLimiter.checkLimit('emailShare', 10)) {\n        console.warn('Too many email share attempts');\n        return;\n    }\n\n    const article = e.target.closest('article');\n    if (!article) return;\n\n    const articleLink = article.querySelector('h2 a');\n    const url = articleLink ? articleLink.href : window.location.href;\n    const rawTitle = articleLink ? articleLink.textContent : document.title;\n    const sanitizedTitle = sanitizeText(rawTitle);\n\n    const emailSubject = `Check out this article: ${sanitizedTitle}`;\n    const emailBody = `I thought you might enjoy this article:\\n\\n${sanitizedTitle}\\n\\n${url}`;\n    const mailtoUrl = `mailto:?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`;\n\n    // Create and click a temporary link\n    const tempLink = document.createElement('a');\n    tempLink.href = mailtoUrl;\n    tempLink.style.display = 'none';\n    document.body.appendChild(tempLink);\n    tempLink.click();\n    document.body.removeChild(tempLink);\n}\n\n// Initialize dropdown toggling with JavaScript instead of CSS hover\nfunction initDropdowns() {\n  const dropdowns = document.querySelectorAll('.dropdown');\n\n  dropdowns.forEach(dropdown => {\n    const dropbtn = dropdown.querySelector('.dropbtn');\n    const dropdownContent = dropdown.querySelector('.dropdown-content');\n\n    if (!dropbtn || !dropdownContent) return;\n\n    // Add click event to toggle dropdown\n    dropbtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // Close all other dropdowns first\n      document.querySelectorAll('.dropdown-content').forEach(content => {\n        if (content !== dropdownContent) {\n          content.classList.remove('show');\n        }\n      });\n\n      // Toggle this dropdown\n      dropdownContent.classList.toggle('show');\n    });\n\n    // Prevent clicks inside dropdown from closing it\n    dropdownContent.addEventListener('click', (e) => {\n      // Only stop propagation if it's not a link or button\n      // This allows links to work but prevents immediate closing\n      if (!e.target.closest('a') && !e.target.closest('button')) {\n        e.stopPropagation();\n      }\n    });\n\n    // Add special handling for the copy URL functionality\n    const copyUrlButton = dropdown.querySelector('.copy-url');\n    if (copyUrlButton) {\n      copyUrlButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        // Your existing clipboard copy functionality\n        handleClipboardClick(e);\n\n        // Don't close the dropdown immediately\n        setTimeout(() => {\n          dropdownContent.classList.remove('show');\n        }, 1500); // Wait 1.5 seconds to close, giving user time to see confirmation\n      });\n    }\n  });\n\n  // Close dropdown when clicking outside\n  document.addEventListener('click', () => {\n    document.querySelectorAll('.dropdown-content.show').forEach(content => {\n      content.classList.remove('show');\n    });\n  });\n}\n\n// Initialize social sharing functionality\nfunction initSocialSharing() {\n    // Add click event listeners for all sharing buttons\n    document.addEventListener('click', (e) => {\n        // Prevent too many clicks\n        if (!RateLimiter.checkLimit('globalClicks', 100, 60000)) {\n            console.warn('Too many clicks detected');\n            return;\n        }\n\n        // Target is the clicked element OR its closest parent matching the selector\n        const copyUrlButton = e.target.closest('.copy-url');\n        const emailShareButton = e.target.closest('.email-share');\n        const nativeShareButton = e.target.closest('.native-share');\n        const whatsappShareButton = e.target.closest('.whatsapp-share');\n        const mastodonShareButton = e.target.closest('.mastodon-share');\n\n        // Handle clipboard clicks\n        if (copyUrlButton) {\n            handleClipboardClick(e);\n        }\n\n        // Handle email shares\n        if (emailShareButton) {\n            handleEmailShare(e);\n        }\n\n        // Handle native share\n        if (nativeShareButton) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const article = e.target.closest('article');\n            if (!article) return;\n\n            const articleLink = article.querySelector('h2 a');\n            const url = articleLink ? articleLink.href : window.location.href;\n            const rawTitle = articleLink ? articleLink.textContent : document.title;\n            const sanitizedTitle = sanitizeText(rawTitle);\n\n            const shareData = {\n                title: sanitizedTitle,\n                text: sanitizedTitle,\n                url: url\n            };\n\n            // First check if we can share this specific data\n            if (navigator.canShare && navigator.canShare(shareData)) {\n                navigator.share(shareData)\n                    .then(() => console.log('Shared successfully'))\n                    .catch((err) => {\n                        if (err.name !== 'AbortError') {\n                            console.error('Share failed:', err);\n                        }\n                    });\n            } else if (navigator.share) {\n                // Fallback to just checking share API availability\n                navigator.share(shareData)\n                    .then(() => console.log('Shared successfully'))\n                    .catch((err) => {\n                        if (err.name !== 'AbortError') {\n                            console.error('Share failed:', err);\n                        }\n                    });\n            } else {\n                console.log('Web Share API not supported');\n            }\n        }\n\n        // Handle WhatsApp shares\n        if (whatsappShareButton) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const article = e.target.closest('article');\n            if (!article) return;\n\n            const articleLink = article.querySelector('h2 a');\n            const url = articleLink ? articleLink.href : window.location.href;\n            const rawTitle = articleLink ? articleLink.textContent : document.title;\n            const sanitizedTitle = sanitizeText(rawTitle);\n\n            window.open(getWhatsAppShareUrl(url, sanitizedTitle), '_blank', 'noopener,noreferrer');\n        }\n\n        // Handle Mastodon shares\n        if (mastodonShareButton) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (!RateLimiter.checkLimit('mastodonShare', 10)) {\n                console.warn('Too many share attempts');\n                return;\n            }\n\n            const article = e.target.closest('article');\n            if (!article) return;\n\n            const articleLink = article.querySelector('h2 a');\n            const url = articleLink ? articleLink.href : window.location.href;\n            const rawTitle = articleLink ? articleLink.textContent : document.title;\n            const sanitizedTitle = sanitizeText(rawTitle);\n\n            let instance = window.prompt('Enter your Mastodon instance URL:', localStorage.getItem('mastodon-instance') || 'mastodon.social');\n\n            if (instance) {\n                const cleanInstance = instance\n                    .replace(/^https?:\\/\\//, '')\n                    .replace(/\\/$/, '')\n                    .replace(/[<>'\"`{}()\\[\\]]/g, '');\n                const shareText = `${sanitizedTitle}\\n\\n${url}`;\n                const shareUrl = `https://${cleanInstance}/share?text=${encodeURIComponent(shareText)}`;\n                window.open(shareUrl, '_blank', 'noopener,noreferrer');\n                localStorage.setItem('mastodon-instance', cleanInstance);\n            }\n        }\n    });\n\n    // Show native share buttons if supported\n    if (navigator.share) {\n        const nativeShareButtons = document.querySelectorAll('.native-share');\n        nativeShareButtons.forEach(btn => {\n            btn.style.display = 'block';\n        });\n    }\n}\n\n// Wait for DOM to be fully loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n    initMobileMenu();\n    initAppearanceMode();\n    initSmoothScroll();\n    initTouchFeedback();\n    initBookmarkDomainExtractor();\n    initDropdowns();\n    initSocialSharing();\n    initCollapsibleSections();\n    initTestimonials();\n    initWeatherDisplay();\n    initKnicksCounter();\n    initStickyHeaderEffect();\n    initYouTubeLightbox();\n    initPriceToggle();\n    initCommentsPanel();\n    initWikipediaIconsForCitations();\n    initNewsletterModal();\n    initBreadcrumbDropdown();\n    initContinuousCarousel();\n    initTagMasonry();\n\n    // Log to confirm script is running\n    console.log('Theme JS initialized including social sharing');\n});\n\n/**\n * Mobile Menu Functionality\n * Handles the hamburger menu toggle and overlay\n */\nfunction initMobileMenu() {\n    const menuToggle = document.querySelector('.menu-toggle');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const overlay = document.querySelector('.overlay');\n\n    if (!menuToggle || !mobileMenu || !overlay) return;\n\n    function toggleMenu() {\n        mobileMenu.classList.toggle('active');\n        overlay.classList.toggle('active');\n\n        // Toggle hamburger animation\n        const spans = menuToggle.querySelectorAll('span');\n        spans[0].style.transform = spans[0].style.transform === 'rotate(45deg) translate(5px, 5px)'\n            ? ''\n            : 'rotate(45deg) translate(5px, 5px)';\n        spans[1].style.opacity = spans[1].style.opacity === '0' ? '1' : '0';\n        spans[2].style.transform = spans[2].style.transform === 'rotate(-45deg) translate(5px, -5px)'\n            ? ''\n            : 'rotate(-45deg) translate(5px, -5px)';\n    }\n\n    menuToggle.addEventListener('click', toggleMenu);\n    overlay.addEventListener('click', toggleMenu);\n}\n\n/**\n * Appearance Mode Settings\n * Handles light/dark/auto mode based on user preference\n */\nfunction initAppearanceMode() {\n    const appearanceOptions = document.querySelectorAll('input[name=\"appearance\"]');\n\n    // First try the more advanced appearance mode options\n    if (appearanceOptions && appearanceOptions.length > 0) {\n        initAdvancedAppearanceMode(appearanceOptions);\n    } else {\n        // Fall back to simple dark mode toggle\n        initSimpleDarkModeToggle();\n    }\n}\n\n/**\n * Advanced appearance mode with light/dark/auto options\n */\nfunction initAdvancedAppearanceMode(appearanceOptions) {\n    // Function to apply appearance mode\n    function setAppearanceMode(mode) {\n        if (mode === 'auto') {\n            // Use system preference\n            const prefersDark = window.matchMedia &&\n                window.matchMedia('(prefers-color-scheme: dark)').matches;\n            document.body.classList.toggle('dark-mode', prefersDark);\n        } else if (mode === 'dark') {\n            document.body.classList.add('dark-mode');\n        } else {\n            document.body.classList.remove('dark-mode');\n        }\n\n        // Save to localStorage\n        safeLocalStorageSet('appearanceMode', mode);\n    }\n\n    // Add listeners to radio buttons\n    appearanceOptions.forEach(option => {\n        option.addEventListener('change', function() {\n            setAppearanceMode(this.value);\n        });\n    });\n\n    // Set initial state based on saved preference\n    const savedMode = safeLocalStorageGet('appearanceMode', 'auto');\n    const modeInput = document.querySelector(`input[name=\"appearance\"][value=\"${savedMode}\"]`);\n    if (modeInput) {\n        modeInput.checked = true;\n        setAppearanceMode(savedMode);\n    }\n\n    // Listen for system preference changes\n    if (window.matchMedia) {\n        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\n            const currentMode = safeLocalStorageGet('appearanceMode', 'auto');\n            if (currentMode === 'auto') {\n                setAppearanceMode('auto');\n            }\n        });\n    }\n}\n\n/**\n * Simple dark mode toggle (fallback)\n */\nfunction initSimpleDarkModeToggle() {\n    const darkModeToggle = document.querySelector('.dark-mode-toggle');\n    if (!darkModeToggle) return;\n\n    function toggleDarkMode() {\n        document.body.classList.toggle('dark-mode');\n        safeLocalStorageSet('darkMode', document.body.classList.contains('dark-mode'));\n    }\n\n    // Check user preference\n    try {\n        if ((safeLocalStorageGet('darkMode') === 'true') ||\n            (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n            document.body.classList.add('dark-mode');\n        }\n    } catch (e) {\n        console.log('Unable to check dark mode preferences');\n    }\n\n    darkModeToggle.addEventListener('click', toggleDarkMode);\n}\n\n/**\n * Enable smooth scrolling behavior\n */\nfunction initSmoothScroll() {\n    document.documentElement.style.scrollBehavior = 'smooth';\n}\n\n/**\n * Add touch feedback for mobile devices\n */\nfunction initTouchFeedback() {\n    const interactiveElements = document.querySelectorAll('button, .page-link, .card');\n\n    interactiveElements.forEach(element => {\n        element.addEventListener('touchstart', () => {\n            element.style.opacity = '0.7';\n        });\n\n        element.addEventListener('touchend', () => {\n            element.style.opacity = '1';\n        });\n    });\n}\n\n/**\n * Extract and display root domain and favicon from bookmark URLs\n *\n * This function finds the first link in bookmark post content,\n * extracts the root domain, and attempts to load the favicon\n * for display purposes.\n */\nfunction initBookmarkDomainExtractor() {\n    const bookmarks = document.querySelectorAll('.bookmark');\n\n    bookmarks.forEach(bookmark => {\n      const bookmarkComment = bookmark.querySelector('.bookmark-comment');\n      if (!bookmarkComment) return;\n\n      const firstLink = bookmarkComment.querySelector('a');\n      if (!firstLink) return;\n\n      try {\n        // Parse the URL to extract the hostname\n        const urlObj = new URL(firstLink.href);\n        let displayDomain = urlObj.hostname;\n        if (displayDomain.startsWith('www.')) {\n          displayDomain = displayDomain.substring(4);\n        }\n\n        // Find the tag element instead of pub-date\n        const tagEl = bookmark.querySelector('.meta .tag');\n        if (!tagEl) return;\n\n        // Create a simple span with domain info\n        const domainSpan = document.createElement('span');\n        domainSpan.className = 'domain-pill';\n\n        // Create favicon element\n        const favicon = document.createElement('img');\n        favicon.src = `https://www.google.com/s2/favicons?domain=${urlObj.hostname}&sz=32`;\n        favicon.className = 'domain-favicon';\n        favicon.width = 16;\n        favicon.height = 16;\n        favicon.alt = '';\n\n        // Handle favicon load error with Lucide globe icon\n        favicon.onerror = function() {\n          const faviconContainer = document.createElement('span');\n          faviconContainer.className = 'domain-favicon svg-icon';\n          faviconContainer.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-globe-icon lucide-globe\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\"/><path d=\"M2 12h20\"/></svg>`;\n          this.parentNode.replaceChild(faviconContainer, this);\n        };\n\n        // Add favicon and text to the span\n        domainSpan.appendChild(favicon);\n        domainSpan.appendChild(document.createTextNode(' ' + displayDomain));\n\n        // Insert after the tag element\n        tagEl.parentNode.insertBefore(domainSpan, tagEl.nextSibling);\n\n      } catch (e) {\n        console.error('Error parsing URL:', e);\n      }\n    });\n }\n\n /**\n  * Initialize collapsible sections in the sidebar\n  * Handles expanding/collapsing of section content\n  * Only the first section is expanded by default\n  */\n function initCollapsibleSections() {\n   const collapsibleHeaders = document.querySelectorAll('.collapsible-header');\n\n   if (collapsibleHeaders.length === 0) return;\n\n   collapsibleHeaders.forEach((header) => {\n     const section = header.parentElement;\n     const content = section.querySelector('.collapsible-content');\n     const icon = header.querySelector('.collapsible-icon');\n\n     // Set all sections to collapsed by default\n     if (!icon.classList.contains('collapsed')) {\n       icon.classList.add('collapsed');\n     }\n     content.classList.add('hidden');\n     content.style.maxHeight = '0px';\n\n     // Add click event\n     header.addEventListener('click', () => {\n       // Toggle icon rotation\n       icon.classList.toggle('collapsed');\n\n       // Toggle content visibility\n       if (content.classList.contains('hidden')) {\n         content.classList.remove('hidden');\n         content.style.maxHeight = content.scrollHeight + 'px';\n       } else {\n         content.style.maxHeight = '0px';\n         // Add a delay before adding the hidden class to allow animation to complete\n         setTimeout(() => {\n           content.classList.add('hidden');\n         }, 300);\n       }\n     });\n   });\n\n   // Handle window resize to adjust content heights for open sections\n   window.addEventListener('resize', () => {\n     const openContents = document.querySelectorAll('.collapsible-content:not(.hidden)');\n     openContents.forEach(content => {\n       content.style.maxHeight = content.scrollHeight + 'px';\n     });\n   });\n }\n\n/**\n  * Initialize Testimonials Rotation\n  * Handles the display and cycling of testimonial quotes\n  */\n function initTestimonials() {\n     const testimonialElement = document.getElementById('testimonal');\n     if (!testimonialElement) return;\n\n     // Create a shuffled array of indices\n     let indices = Array.from({ length: TESTIMONIALS_CONFIG.testimonials.length }, (_, i) => i);\n     let currentIndex = 0;\n\n     // Fisher-Yates shuffle algorithm\n     function shuffleArray(array) {\n         for (let i = array.length - 1; i > 0; i--) {\n             const j = Math.floor(Math.random() * (i + 1));\n             [array[i], array[j]] = [array[j], array[i]];\n         }\n         return array;\n     }\n\n     // Initial shuffle\n     indices = shuffleArray(indices);\n\n     // Create testimonial HTML with proper sanitization\n     function createTestimonialHTML(testimonial) {\n         // Sanitize the input data\n         const sanitizedQuote = sanitizeHTML(testimonial.quote);\n         const sanitizedAuthor = sanitizeHTML(testimonial.author);\n         const sanitizedLink = sanitizeHTML(testimonial.link);\n         const sanitizedAvatar = sanitizeHTML(testimonial.avatar);\n\n         // Replace straight apostrophes with curly ones\n         const withCurlyApostrophes = sanitizedQuote.replaceAll(\"'\", \"\\u2019\");\n\n         return `<div class=\"testimonial-content\">\n             <q>${withCurlyApostrophes}</q>\n             <cite><img class=\"avatar\"\n                  src=\"${sanitizedAvatar}\"\n                  alt=\"${sanitizedAuthor}'s avatar\"\n                  onerror=\"this.style.display='none'\">\n                  <a href=\"${sanitizedLink}\">${sanitizedAuthor} <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-arrow-up-right-icon lucide-arrow-up-right\"><path d=\"M7 7h10v10\"/><path d=\"M7 17 17 7\"/></svg></a>\n             </cite>\n         </div>`;\n     }\n\n     // Sanitize HTML to prevent XSS\n     function sanitizeHTML(html) {\n         if (!html) return '';\n         // Create a temporary div element\n         const div = document.createElement('div');\n         // Safely convert HTML to text\n         div.textContent = html;\n         // Get the sanitized HTML\n         return div.innerHTML\n             .replace(/<script[^>]*>.*?<\\/script>/gi, '') // Remove script tags\n             .replace(/on\\w+=\"[^\"]*\"/g, '') // Remove event handlers\n             .replace(/href=\"javascript:[^\"]*\"/g, '') // Remove javascript: URLs\n             .replace(/javascript:/gi, '') // Remove javascript: protocol\n             .replace(/data:/gi, '') // Remove data: URLs\n             .replace(/vbscript:/gi, ''); // Remove vbscript: protocol\n     }\n\n     function updateTestimonial() {\n         if (!testimonialElement) return;\n\n         const content = testimonialElement.querySelector('.testimonial-content');\n         if (content) {\n             // Add fade-out class to start the exit animation\n             content.classList.add('fade-out');\n\n             setTimeout(() => {\n                 // Get testimonial using shuffled index\n                 const testimonial = TESTIMONIALS_CONFIG.testimonials[indices[currentIndex]];\n\n                 testimonialElement.innerHTML = createTestimonialHTML(testimonial);\n                 const newContent = testimonialElement.querySelector('.testimonial-content');\n\n                 if (newContent) {\n                     // Set initial state for entrance animation\n                     newContent.classList.add('fade-in');\n\n                     // Force a reflow before starting the entrance animation\n                     newContent.offsetHeight;\n\n                     // Start entrance animation after a small delay\n                     requestAnimationFrame(() => {\n                         requestAnimationFrame(() => {\n                             newContent.classList.remove('fade-in');\n                         });\n                     });\n                 }\n\n                 // Increment index and reshuffle if we've shown all quotes\n                 currentIndex = (currentIndex + 1) % indices.length;\n                 if (currentIndex === 0) {\n                     indices = shuffleArray(indices);\n                 }\n             }, TESTIMONIALS_CONFIG.fadeTransitionMs * 1);\n         }\n     }\n\n     // Add CSS for testimonial transitions\n     const style = document.createElement('style');\n     style.textContent = `\n         .testimonial-content {\n             opacity: 1;\n             transform: translateY(0);\n             transition: opacity ${TESTIMONIALS_CONFIG.fadeTransitionMs * 1.0}ms ease-in-out,\n                         transform ${TESTIMONIALS_CONFIG.fadeTransitionMs * 1.0}ms cubic-bezier(0.16, 1, 0.3, 1);\n         }\n         .testimonial-content.fade-out {\n             opacity: 0;\n             transform: translateY(20px);\n         }\n         .testimonial-content.fade-in {\n             opacity: 1;\n             transform: translateY(-20px);\n         }\n     `;\n     document.head.appendChild(style);\n\n     // Initialize with first testimonial\n     updateTestimonial();\n\n     // Set up interval for testimonial rotation\n     setInterval(updateTestimonial, TESTIMONIALS_CONFIG.updateInterval);\n }\n\n function initWeatherDisplay() {\n     const tempElement = document.getElementById('current-temp');\n     const conditionElement = document.getElementById('current-condition');\n     if (!tempElement || !conditionElement) return;\n\n     // Map WMO weather codes to simple words\n     // https://open-meteo.com/en/docs#weathervariables\n     const weatherMap = {\n         'sunny': [0, 1],\n         'partly cloudy': [2],\n         'cloudy': [3],\n         'foggy': [45, 48],\n         'drizzle': [51, 53, 55],\n         'rain': [61, 63, 65, 80, 81, 82],\n         'snow': [71, 73, 75, 77, 85, 86],\n         'thunderstorm': [95, 96, 99]\n     };\n\n     function getOneWordWeather(code) {\n         for (const [word, codes] of Object.entries(weatherMap)) {\n             if (codes.includes(code)) return word;\n         }\n         return 'cloudy'; // Default fallback\n     }\n\n     function updateWeatherIcon(condition) {\n         const iconTemplate = WEATHER_ICONS[condition] || WEATHER_ICONS.cloudy;\n         const tempLi = tempElement.closest('li');\n         const existingIcon = tempLi.querySelector('.weather-icon');\n\n         if (existingIcon) {\n             existingIcon.parentElement.remove();\n         }\n\n         const iconContainer = document.createElement('span');\n         iconContainer.className = 'weather-icon-container';\n         iconContainer.innerHTML = iconTemplate;\n\n         tempLi.insertBefore(iconContainer, tempLi.firstChild);\n     }\n\n async function getWeatherData() {\n         try {\n             // Clear existing cache first\n             localStorage.removeItem('weather_cache');\n\n             const lat = 43.66147;\n             const lon = -70.25533;\n             const url = new URL('https://api.open-meteo.com/v1/forecast');\n             url.searchParams.set('latitude', lat);\n             url.searchParams.set('longitude', lon);\n             url.searchParams.set('current', 'temperature_2m,weather_code');\n             url.searchParams.set('temperature_unit', 'fahrenheit');\n             url.searchParams.set('_cb', Math.random());\n\n             const response = await fetch(url);\n             if (!response.ok) throw new Error('Weather API request failed');\n\n             const data = await response.json();\n\n             // Use ISO string for timestamp\n             const result = {\n                 temp: Math.round(data.current.temperature_2m),\n                 condition: getOneWordWeather(data.current.weather_code),\n                 lastUpdated: new Date().toISOString()\n             };\n\n             console.log('Weather update:', {\n                 temp: result.temp,\n                 condition: result.condition,\n                 lastUpdated: result.lastUpdated,\n                 localTime: new Date().toLocaleString('en-US', { timeZone: 'America/New_York' })\n             });\n\n             localStorage.setItem('weather_cache', JSON.stringify(result));\n\n             return {\n                 temp: result.temp,\n                 condition: result.condition\n             };\n\n         } catch (error) {\n             console.error('Error fetching weather:', error);\n             return { temp: '--', condition: 'cloudy' };\n         }\n     }\n\n     async function updateDisplay() {\n         try {\n             // Clear any existing interval when we start a new update\n             if (window.weatherUpdateInterval) {\n                 clearInterval(window.weatherUpdateInterval);\n             }\n\n             const updateWeatherDisplay = async () => {\n                 try {\n                     const weather = await getWeatherData();\n\n                     if (!tempElement || !conditionElement) {\n                         console.error('Weather elements not found');\n                         return;\n                     }\n\n                     tempElement.textContent = `${weather.temp}°F`;\n                     conditionElement.textContent = ` ${weather.condition}`;\n                     updateWeatherIcon(weather.condition);\n\n                     tempElement.setAttribute('aria-label',\n                         `Current temperature is ${weather.temp} degrees Fahrenheit and ${weather.condition}`\n                     );\n                 } catch (error) {\n                     console.error('Error updating weather display:', error);\n                 }\n             };\n\n             // Initial update\n             await updateWeatherDisplay();\n\n             // Set up periodic updates every 3 hours\n             const threeHours = 3 * 60 * 60 * 1000; // 3 hours in milliseconds\n             window.weatherUpdateInterval = setInterval(updateWeatherDisplay, threeHours);\n\n             // Clean up interval when page is hidden\n             document.addEventListener('visibilitychange', () => {\n                 if (document.hidden && window.weatherUpdateInterval) {\n                     clearInterval(window.weatherUpdateInterval);\n                 } else if (!document.hidden && !window.weatherUpdateInterval) {\n                     // Check when was the last update\n                     const cached = localStorage.getItem('weather_cache');\n                     if (cached) {\n                         const data = JSON.parse(cached);\n                         const lastUpdate = new Date(data.lastUpdated);\n                         const threeHoursAgo = new Date(Date.now() - threeHours);\n\n                         // Only update if last update was more than 3 hours ago\n                         if (lastUpdate < threeHoursAgo) {\n                             updateWeatherDisplay();\n                             window.weatherUpdateInterval = setInterval(updateWeatherDisplay, threeHours);\n                         }\n                     } else {\n                         // No cache exists, do an update\n                         updateWeatherDisplay();\n                         window.weatherUpdateInterval = setInterval(updateWeatherDisplay, threeHours);\n                     }\n                 }\n             });\n\n         } catch (error) {\n             console.error('Error in weather update system:', error);\n         }\n     }\n\n     // Start the weather display system\n     updateDisplay();\n }\n\n ////////// Knicks Championship Counter //////////\n function initKnicksCounter() {\n     const counterElement = document.getElementById('knicks-counter');\n     if (!counterElement) return;\n\n     function calculateDays() {\n         const championship = new Date('1973-05-10T00:00:00-05:00'); // EST timezone\n         const now = new Date();\n         const est = new Date(now.toLocaleString('en-US', { timeZone: 'America/New_York' }));\n         const diff = est - championship;\n         const daysSince = Math.floor(diff / (1000 * 60 * 60 * 24));\n         counterElement.textContent = `${daysSince.toLocaleString()} Days Ago`;\n     }\n\n     // Calculate initial days\n     calculateDays();\n\n     // Calculate time until next midnight EST\n     function setMidnightUpdate() {\n         const now = new Date();\n         const est = new Date(now.toLocaleString('en-US', { timeZone: 'America/New_York' }));\n         const tomorrow = new Date(est);\n         tomorrow.setDate(tomorrow.getDate() + 1);\n         tomorrow.setHours(0, 0, 0, 0);\n         const msUntilMidnight = tomorrow - est;\n\n         // Update at midnight\n         setTimeout(() => {\n             calculateDays();\n             // After first midnight, update every 24 hours\n             setInterval(calculateDays, 24 * 60 * 60 * 1000);\n         }, msUntilMidnight);\n     }\n\n     setMidnightUpdate();\n }\n\n/**\n  * Sticky Header Scroll Effect\n  * Adds a class to the header when scrolling to enable subtle shadow and transparency\n  */\n function initStickyHeaderEffect() {\n     const header = document.querySelector('.site-header');\n     if (!header) return;\n\n     // Initial check in case page is loaded scrolled down\n     checkHeaderScroll();\n\n     // Listen for scroll events\n     window.addEventListener('scroll', checkHeaderScroll);\n\n     function checkHeaderScroll() {\n         // Add .scrolled class when scrolled down (using 10px threshold)\n         if (window.scrollY > 10) {\n             header.classList.add('scrolled');\n         } else {\n             header.classList.remove('scrolled');\n         }\n     }\n }\n\n// YouTube Lightbox Function\n // Add this to your existing index.js file or create a new one\n\n /**\n  * Initialize YouTube Lightbox functionality\n  * This function creates a modal for YouTube videos and\n  * attaches click handlers to all YouTube links\n  */\n function initYouTubeLightbox() {\n     // Create the modal element if it doesn't exist\n     if (!document.getElementById('youtube-modal')) {\n         const modal = document.createElement('div');\n         modal.id = 'youtube-modal';\n         modal.className = 'youtube-modal';\n         modal.innerHTML = `\n             <div class=\"youtube-modal-content\">\n                 <button class=\"youtube-modal-close\" aria-label=\"Close video\">\n                     <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                         <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n                         <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"/>\n                         <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"/>\n                     </svg>\n                 </button>\n                 <div class=\"youtube-modal-iframe-container\">\n                     <iframe id=\"youtube-iframe\" frameborder=\"0\" allowfullscreen\n                         allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\">\n                     </iframe>\n                 </div>\n             </div>\n         `;\n         document.body.appendChild(modal);\n\n         // Add event listener to close button\n         const closeBtn = modal.querySelector('.youtube-modal-close');\n         closeBtn.addEventListener('click', closeYouTubeModal);\n\n         // Close modal when clicking outside the content\n         modal.addEventListener('click', function(event) {\n             if (event.target === modal) {\n                 closeYouTubeModal();\n             }\n         });\n\n         // Close modal with escape key\n         document.addEventListener('keydown', function(event) {\n             if (event.key === 'Escape' && modal.style.display === 'flex') {\n                 closeYouTubeModal();\n             }\n         });\n     }\n\n     // Find YouTube links with specific patterns\n     const youtubeLinks = document.querySelectorAll('a[href*=\"youtube.com/watch\"], a[href*=\"youtu.be/\"]');\n\n     youtubeLinks.forEach(link => {\n         link.addEventListener('click', openYouTubeModal);\n     });\n }\n\n function openYouTubeModal(event) {\n     event.preventDefault();\n\n     const url = new URL(this.href);\n     let videoId;\n\n     // Extract video ID from different YouTube URL formats\n     if (url.hostname.includes('youtube.com')) {\n         videoId = url.searchParams.get('v');\n     } else if (url.hostname.includes('youtu.be')) {\n         videoId = url.pathname.substring(1);\n     }\n\n     if (videoId) {\n         const iframe = document.getElementById('youtube-iframe');\n         iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;\n\n         const modal = document.getElementById('youtube-modal');\n         modal.style.display = 'flex';\n\n         // Add class to body to prevent scrolling\n         document.body.classList.add('youtube-modal-open');\n     }\n }\n\n function closeYouTubeModal() {\n     const modal = document.getElementById('youtube-modal');\n     if (modal) {\n         modal.style.display = 'none';\n\n         // Reset iframe src to stop video playback\n         const iframe = document.getElementById('youtube-iframe');\n         iframe.src = '';\n\n         // Remove class from body to re-enable scrolling\n         document.body.classList.remove('youtube-modal-open');\n     }\n }\n\n ////////// Price Toggle //////////\n function initPriceToggle() {\n     const toggle = document.querySelector('.membership-toggle');\n     if (!toggle) return;\n\n     const toggleButtons = document.querySelectorAll('.toggle button');\n     const yearlyElements = document.querySelectorAll('[data-yearly]');\n     const monthlyElements = document.querySelectorAll('[data-monthly]');\n\n     toggleButtons.forEach(button => {\n         // Add ARIA attributes\n         button.setAttribute('role', 'switch');\n         button.setAttribute(ARIA_ATTRS.CHECKED, 'false');\n\n         button.addEventListener('click', () => {\n             const priceType = button.getAttribute('data-price');\n             if (!['yearly', 'monthly'].includes(priceType)) return;\n\n             // Update ARIA states\n             toggleButtons.forEach(btn => {\n                 btn.classList.remove('active');\n                 btn.setAttribute(ARIA_ATTRS.CHECKED, 'false');\n             });\n             button.classList.add('active');\n             button.setAttribute(ARIA_ATTRS.CHECKED, 'true');\n\n             toggle.setAttribute('data-active-price', priceType);\n\n             const isYearly = priceType === 'yearly';\n             yearlyElements.forEach(el => {\n                 el.style.display = isYearly ? 'block' : 'none';\n                 el.setAttribute(ARIA_ATTRS.HIDDEN, (!isYearly).toString());\n             });\n             monthlyElements.forEach(el => {\n                 el.style.display = isYearly ? 'none' : 'block';\n                 el.setAttribute(ARIA_ATTRS.HIDDEN, isYearly.toString());\n             });\n         });\n\n         // Add keyboard support\n         button.addEventListener('keydown', (e) => {\n             if (e.key === KEYS.ENTER || e.key === KEYS.SPACE) {\n                 e.preventDefault();\n                 button.click();\n             }\n         });\n     });\n }\n\n /**\n  * Comments Panel Functionality\n  * Handles the sliding panel for comments\n  */\n function initCommentsPanel() {\n     const commentsTrigger = document.querySelector('.related-trigger');\n     const commentsPanel = document.getElementById('comments-panel');\n     const overlay = document.querySelector('.panel-overlay');\n     const closeButton = document.querySelector('.close-panel');\n\n     if (!commentsTrigger || !commentsPanel || !overlay || !closeButton) return;\n\n     function toggleCommentsPanel() {\n         const isExpanded = commentsPanel.classList.contains('active');\n\n         // Toggle classes\n         commentsPanel.classList.toggle('active');\n         overlay.classList.toggle('active');\n\n         // Update ARIA attributes\n         commentsTrigger.setAttribute('aria-expanded', !isExpanded);\n         commentsPanel.setAttribute('aria-hidden', isExpanded);\n\n         // Control body scrolling\n         document.body.style.overflow = isExpanded ? '' : 'hidden';\n\n         // Focus management\n         if (!isExpanded) {\n             closeButton.focus();\n         }\n     }\n\n     function closeCommentsPanel() {\n         commentsPanel.classList.remove('active');\n         overlay.classList.remove('active');\n         commentsTrigger.setAttribute('aria-expanded', 'false');\n         commentsPanel.setAttribute('aria-hidden', 'true');\n         document.body.style.overflow = '';\n         commentsTrigger.focus();\n     }\n\n     // Event listeners\n     commentsTrigger.addEventListener('click', toggleCommentsPanel);\n     closeButton.addEventListener('click', closeCommentsPanel);\n     overlay.addEventListener('click', closeCommentsPanel);\n\n     // Close panel on escape key\n     document.addEventListener('keydown', function(event) {\n         if (event.key === 'Escape' && commentsPanel.classList.contains('active')) {\n             closeCommentsPanel();\n         }\n     });\n\n     // Fix aria-controls attribute to match panel ID\n     commentsTrigger.setAttribute('aria-controls', 'comments-panel');\n }\n\nfunction initWikipediaIconsForCitations() {\n     // Find all quotes with citations\n     const quotes = document.querySelectorAll('.quote blockquote');\n\n     quotes.forEach(quote => {\n         const cite = quote.querySelector('cite');\n         if (!cite) return;\n\n         const links = cite.querySelectorAll('a');\n\n         links.forEach(link => {\n             // Check if the link is to Wikipedia\n             if (link.href && link.href.includes('wikipedia.org')) {\n                 // Create a Wikipedia icon\n                 const wikiIcon = document.createElement('span');\n                 wikiIcon.className = 'wiki-icon';\n                 wikiIcon.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-wikipedia\" viewBox=\"0 0 16 16\"><path d=\"M8.835 3.003c.828-.006 2.688 0 2.688 0l.033.03v.288q0 .12-.133.12c-.433.02-.522.063-.68.29-.087.126-.258.393-.435.694l-1.52 2.843-.043.089 1.858 3.801.113.031 2.926-6.946q.152-.42-.044-.595c-.132-.114-.224-.18-.563-.195l-.275-.014a.16.16 0 0 1-.096-.035.1.1 0 0 1-.046-.084v-.289l.042-.03h3.306l.034.03v.29q0 .117-.133.117-.65.03-.962.281a1.64 1.64 0 0 0-.488.704s-2.691 6.16-3.612 8.208c-.353.672-.7.61-1.004-.019A224 224 0 0 1 8.044 8.81c-.623 1.285-1.475 3.026-1.898 3.81-.411.715-.75.622-1.02.019-.45-1.065-1.131-2.519-1.817-3.982-.735-1.569-1.475-3.149-1.943-4.272-.167-.4-.293-.657-.412-.759q-.18-.15-.746-.18Q0 3.421 0 3.341v-.303l.034-.03c.615-.003 3.594 0 3.594 0l.034.03v.288q0 .119-.15.118l-.375.016q-.483.02-.483.288-.002.125.109.4c.72 1.753 3.207 6.998 3.207 6.998l.091.023 1.603-3.197-.32-.71L6.24 5.095s-.213-.433-.286-.577l-.098-.196c-.387-.77-.411-.82-.865-.88-.137-.017-.208-.035-.208-.102v-.304l.041-.03h2.853l.075.024v.303q0 .104-.15.104l-.206.03c-.523.04-.438.254-.09.946l1.057 2.163 1.17-2.332c.195-.427.155-.534.074-.633-.046-.055-.202-.144-.54-.158l-.133-.015a.16.16 0 0 1-.096-.034.1.1 0 0 1-.045-.085v-.288l.041-.03Z\"/></svg>';\n\n                 // Add some spacing between the link and the icon\n                 const spacer = document.createTextNode(' ');\n\n                 // Insert after the link\n                 link.parentNode.insertBefore(spacer, link.nextSibling);\n                 link.parentNode.insertBefore(wikiIcon, link.nextSibling.nextSibling);\n             }\n         });\n     });\n }\n\n // Then add the new function below all your other initialization functions\n function initNewsletterModal() {\n     // Newsletter modal functionality\n     const modal = document.getElementById('newsletter-modal');\n     const btn = document.getElementById('open-newsletter-modal');\n     const closeBtn = document.querySelector('.close-newsletter');\n\n     if (!modal || !btn || !closeBtn) return;\n\n     btn.addEventListener('click', function() {\n         modal.style.display = 'flex';\n     });\n\n     closeBtn.addEventListener('click', function() {\n         modal.style.display = 'none';\n     });\n\n     window.addEventListener('click', function(event) {\n         if (event.target === modal) {\n             modal.style.display = 'none';\n         }\n     });\n\n     // Add escape key to close modal\n     document.addEventListener('keydown', function(event) {\n         if (event.key === 'Escape' && modal.style.display === 'flex') {\n             modal.style.display = 'none';\n         }\n     });\n }\n\n/**\n  * Initialize breadcrumb dropdown functionality\n  * Adds accessibility enhancements for the hover-based dropdown\n  */\n function initBreadcrumbDropdown() {\n     const pagesDropdown = document.querySelector('.pages-dropdown');\n     if (!pagesDropdown) return;\n\n     const dropdownTrigger = pagesDropdown.querySelector('.dropdown-trigger');\n     if (!dropdownTrigger) return;\n\n     // Add keyboard support\n     dropdownTrigger.addEventListener('keydown', (e) => {\n         if (e.key === 'Enter' || e.key === ' ') {\n             e.preventDefault();\n\n             // Simulate hover state by adding a temporary class\n             pagesDropdown.classList.add('keyboard-hover');\n\n             // Focus the first item in the dropdown\n             const firstLink = pagesDropdown.querySelector('.breadcrumb-dropdown ul li a');\n             if (firstLink) {\n                 firstLink.focus();\n             }\n         }\n     });\n\n     // Add keyboard navigation within the dropdown\n     const dropdownLinks = pagesDropdown.querySelectorAll('.breadcrumb-dropdown ul li a');\n     dropdownLinks.forEach((link, index) => {\n         link.addEventListener('keydown', (e) => {\n             // Close dropdown on Escape\n             if (e.key === 'Escape') {\n                 e.preventDefault();\n                 pagesDropdown.classList.remove('keyboard-hover');\n                 dropdownTrigger.focus();\n             }\n\n             // Navigate with arrow keys\n             if (e.key === 'ArrowDown' && index < dropdownLinks.length - 1) {\n                 e.preventDefault();\n                 dropdownLinks[index + 1].focus();\n             }\n\n             if (e.key === 'ArrowUp') {\n                 e.preventDefault();\n                 if (index > 0) {\n                     dropdownLinks[index - 1].focus();\n                 } else {\n                     dropdownTrigger.focus();\n                     pagesDropdown.classList.remove('keyboard-hover');\n                 }\n             }\n         });\n\n         // Remove keyboard-hover class when a link is clicked\n         link.addEventListener('click', () => {\n             pagesDropdown.classList.remove('keyboard-hover');\n         });\n     });\n\n     // Close the dropdown when tabbing out of it\n     const lastLink = dropdownLinks[dropdownLinks.length - 1];\n     if (lastLink) {\n         lastLink.addEventListener('keydown', (e) => {\n             if (e.key === 'Tab' && !e.shiftKey) {\n                 pagesDropdown.classList.remove('keyboard-hover');\n             }\n         });\n     }\n\n     // Make the dropdown accessible\n     dropdownTrigger.setAttribute('role', 'button');\n     dropdownTrigger.setAttribute('aria-haspopup', 'true');\n     dropdownTrigger.setAttribute('aria-expanded', 'false');\n\n     // Add CSS for keyboard hover simulation\n     const style = document.createElement('style');\n     style.textContent = `\n         .pages-dropdown.keyboard-hover .breadcrumb-dropdown {\n             visibility: visible;\n             opacity: 1;\n             transform: translateY(0);\n             pointer-events: auto;\n         }\n         .pages-dropdown.keyboard-hover .dropdown-trigger:after {\n             transform: rotate(180deg);\n         }\n     `;\n     document.head.appendChild(style);\n }\n\n\n/**\n * Utility: Safely get value from localStorage\n */\nfunction safeLocalStorageGet(key, defaultValue = null) {\n    try {\n        if (window.localStorage) {\n            const value = localStorage.getItem(key);\n            return value !== null ? value : defaultValue;\n        }\n    } catch (e) {\n        console.log('localStorage not available');\n    }\n    return defaultValue;\n}\n\n/**\n * Utility: Safely set value in localStorage\n */\nfunction safeLocalStorageSet(key, value) {\n    try {\n        if (window.localStorage) {\n            localStorage.setItem(key, value);\n            return true;\n        }\n    } catch (e) {\n        console.log('localStorage not available');\n    }\n    return false;\n}\n"],"names":["ContinuousCarousel","constructor","element","this","carousel","track","querySelector","slides","Array","from","querySelectorAll","slowDownButton","speedUpButton","pauseButton","baseSpeed","speedMultipliers","slow","normal","fast","hoverMultiplier","currentSpeedSetting","isHovering","isPaused","position","lastTimestamp","totalWidth","animationId","length","init","calculateDimensions","cloneSlides","addSpeedControls","addHoverEffect","addPauseControl","debouncedResize","debounce","handleResize","bind","window","addEventListener","startAnimation","hasCloned","slide","style","getComputedStyle","marginRight","parseInt","slideWidth","offsetWidth","minSlidesNeeded","Math","ceil","innerWidth","setsNeeded","i","forEach","clone","cloneNode","setAttribute","appendChild","getCurrentSpeed","multiplier","performance","now","animateCarousel","timestamp","elapsed","pixelsToMove","resetPoint","scrollWidth","abs","transform","requestAnimationFrame","fn","delay","timeout","_len","arguments","args","_key","clearTimeout","setTimeout","currentSlides","initTagMasonry","document","container","async","gridTemplateRows","console","log","classList","add","isResizing","applyMasonry","gridAutoRows","rowGap","children","item","gridRowEnd","setProperty","items","computedStyle","colGap","parseFloat","columnGap","promises","images","img","complete","src","push","Promise","resolve","once","videos","video","readyState","race","all","waitForMedia","offsetHeight","height","getBoundingClientRect","rowSpan","round","resizeTimeout","fonts","ready","then","setupMasonry","TESTIMONIALS_CONFIG","updateInterval","fadeTransitionMs","testimonials","quote","author","avatar","link","WEATHER_ICONS","sunny","cloudy","rainy","drizzle","snow","foggy","RateLimiter","getKey","action","floor","Date","increment","limit","key","count","sessionStorage","getItem","setItem","toString","checkLimit","undefined","cleanup","startsWith","split","removeItem","sanitizeText","text","maxLength","div","createElement","textContent","slice","replace","handleClipboardClick","e","preventDefault","stopPropagation","warn","article","target","closest","articleLink","url","href","location","navigator","clipboard","writeText","showCopyAlert","err","error","success","dropdown","dropdownContent","display","rect","alertBox","className","Object","assign","left","width","bottom","innerHeight","top","backgroundColor","boxShadow","color","padding","borderRadius","zIndex","fontSize","fontWeight","opacity","transition","whiteSpace","innerHTML","body","remove","initSocialSharing","copyUrlButton","emailShareButton","nativeShareButton","whatsappShareButton","mastodonShareButton","sanitizedTitle","title","emailBody","mailtoUrl","encodeURIComponent","tempLink","click","removeChild","handleEmailShare","shareData","canShare","share","catch","name","open","test","userAgent","getWhatsAppShareUrl","instance","prompt","localStorage","cleanInstance","shareUrl","btn","openYouTubeModal","event","URL","videoId","hostname","includes","searchParams","get","pathname","substring","getElementById","closeYouTubeModal","modal","safeLocalStorageGet","defaultValue","value","safeLocalStorageSet","menuToggle","mobileMenu","overlay","toggleMenu","toggle","spans","initMobileMenu","appearanceOptions","setAppearanceMode","mode","prefersDark","matchMedia","matches","option","savedMode","modeInput","checked","initAdvancedAppearanceMode","darkModeToggle","toggleDarkMode","contains","initSimpleDarkModeToggle","initAppearanceMode","documentElement","scrollBehavior","bookmark","bookmarkComment","firstLink","urlObj","displayDomain","tagEl","domainSpan","favicon","alt","onerror","faviconContainer","parentNode","replaceChild","createTextNode","insertBefore","nextSibling","dropbtn","content","collapsibleHeaders","header","parentElement","icon","maxHeight","scrollHeight","initCollapsibleSections","testimonialElement","indices","_","currentIndex","shuffleArray","array","j","random","createTestimonialHTML","testimonial","sanitizedQuote","sanitizeHTML","sanitizedAuthor","sanitizedLink","sanitizedAvatar","replaceAll","html","updateTestimonial","newContent","head","setInterval","initTestimonials","tempElement","conditionElement","weatherMap","rain","thunderstorm","getOneWordWeather","code","word","codes","entries","updateWeatherIcon","condition","iconTemplate","tempLi","existingIcon","iconContainer","firstChild","getWeatherData","lat","lon","set","response","fetch","ok","Error","data","json","result","temp","current","temperature_2m","weather_code","lastUpdated","toISOString","localTime","toLocaleString","timeZone","JSON","stringify","updateDisplay","weatherUpdateInterval","clearInterval","updateWeatherDisplay","weather","threeHours","hidden","cached","parse","initWeatherDisplay","counterElement","calculateDays","championship","diff","daysSince","setMidnightUpdate","est","tomorrow","setDate","getDate","setHours","initKnicksCounter","checkHeaderScroll","scrollY","initStickyHeaderEffect","id","initYouTubeLightbox","toggleButtons","yearlyElements","monthlyElements","button","ARIA_ATTRS","CHECKED","priceType","getAttribute","isYearly","el","HIDDEN","KEYS","ENTER","SPACE","initPriceToggle","commentsTrigger","commentsPanel","closeButton","toggleCommentsPanel","isExpanded","overflow","focus","closeCommentsPanel","initCommentsPanel","cite","wikiIcon","spacer","closeBtn","initNewsletterModal","pagesDropdown","dropdownTrigger","dropdownLinks","index","lastLink","shiftKey","initBreadcrumbDropdown","carouselElement","initContinuousCarousel"],"mappings":"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"}
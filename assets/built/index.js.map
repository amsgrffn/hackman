{"version":3,"file":"index.js","sources":["../js/index.js"],"sourcesContent":["// JavaScript files are compiled and minified during the build process to the assets/built folder. See available scripts in the package.json file.\n// Import CSS\nimport \"../css/index.css\";\n// Import JS\n\n/**\n * Main JavaScript for the Hackman Blog Theme\n */\n\n /**\n  * Testimonials Configuration\n  * Controls the rotation of testimonial quotes\n  */\n  const TESTIMONIALS_CONFIG = {\n      updateInterval: 7000,\n      fadeTransitionMs: 500,\n      testimonials: [\n          {\n              quote: \"Newsletters suck. This one sucks the most.\",\n              author: \"John Bender\",\n              avatar: \"assets/media/avatars/bender.webp\",\n              link: \"https://thebreakfastclub.fandom.com/wiki/John_Bender\"\n          },\n          {\n              quote: \"I ain't got time to read this crap\",\n              author: \"Blain Cooper\",\n              avatar: \"assets/media/avatars/blain.webp\",\n              link: \"https://avp.fandom.com/wiki/Blain_Cooper\"\n          },\n          {\n              quote: \"My life's been one long, glorious ‘sitting on beach earning twenty percent' vibe-fest since becoming a member of You Can't Be Serious.\",\n              author: \"Hans Gruber\",\n              avatar: \"assets/media/avatars/hans.webp\",\n              link: \"https://en.wikipedia.org/wiki/Hans_Gruber\"\n          },\n          {\n              quote: \"I pity the fool who don't support You Can't Be Serious.\",\n              author: \"Clubber Lang\",\n              avatar: \"assets/media/avatars/clubber.webp\",\n              link: \"https://en.wikipedia.org/wiki/Clubber_Lang\"\n          },\n          {\n              quote: \"This site was, is, and will always be nada\",\n              author: \"Steff McKee\",\n              avatar: \"assets/media/avatars/steff.webp\",\n              link: \"https://en.wikipedia.org/wiki/Pretty_in_Pink\"\n          },\n          {\n              quote: \"You're God Damn right I read You Can't Be Serious.\",\n              author: \"Colonel Nathan R. Jessup\",\n              avatar: \"assets/media/avatars/jessup.webp\",\n              link: \"https://villains.fandom.com/wiki/Colonel_Nathan_R._Jessup\"\n          },\n          {\n              quote: \"These people are a stain on the internet. It's best to go about your daily routine and forget they exist.\",\n              author: \"Mildred Ratched\",\n              avatar: \"assets/media/avatars/mildred.webp\",\n              link: \"https://en.wikipedia.org/wiki/Nurse_Ratched\"\n          },\n          {\n              quote: \"You Can't Be Serious is 90% bullshit, but it’s entertaining. That’s why I read it because it entertains me.\",\n              author: \"Alonzo Harris\",\n              avatar: \"assets/media/avatars/alonzo.webp\",\n              link: \"https://villains.fandom.com/wiki/Alonzo_Harris\"\n          },\n          {\n              quote: \"All I need are some tasty waves, a cool buzz, You Can't Be Serious, and I'm fine.\",\n              author: \"Jeff Spicoli\",\n              avatar: \"assets/media/avatars/spicoli.webp\",\n              link: \"https://www.theringer.com/2020/08/26/movies/spicoli-fast-times-ridgemont-high-teen-movie\"\n          },\n          {\n              quote: \"Listen, I don't bother nobody and nobody bothers me but these brothers are pretty cool. They see \\u2018em you know.\",\n              author: \"Frank\",\n              avatar: \"assets/media/avatars/frank.webp\",\n              link: \"https://en.wikipedia.org/wiki/They_Live\"\n          },\n          {\n              quote: \"I won't be back.\",\n              author: \"Cyberdyne Model 101\",\n              avatar: \"assets/media/avatars/t800.avif\",\n              link: \"https://en.wikipedia.org/wiki/Terminator_(character)\"\n          },\n          {\n              quote: \"My God, it's full of bullshit.\",\n              author: \"David Bowman\",\n              avatar: \"assets/media/avatars/bowman.webp\",\n              link: \"https://2001.fandom.com/wiki/David_Bowman\"\n          },\n          {\n              quote: \"I'd rather have my eyelids stapled shut than read this trash.\",\n              author: \"Regina George\",\n              avatar: \"assets/media/avatars/regina.webp\",\n              link: \"https://en.wikipedia.org/wiki/Regina_George_(Mean_Girls)\"\n          },\n          {\n              quote: \"Hey man, I don't wanna rain on their parade, but these guys won't last seventeen days. Easy. Game over for them man.\",\n              author: \"Private William L. Hudson\",\n              avatar: \"assets/media/avatars/hudson.webp\",\n              link: \"https://en.wikipedia.org/wiki/Hudson_%28Aliens%29\"\n          },\n          {\n              quote: \"This quitting thing, it's a hard habit to break once you start, but one thing I'll never quit is this website.\",\n              author: \"Morris Buttermaker\",\n              avatar: \"assets/media/avatars/buttermaker.webp\",\n              link: \"https://en.wikipedia.org/wiki/The_Bad_News_Bears\"\n          },\n          {\n              quote: \"Blogs are teeming petri dishes of malignant mediocrity. Written by mental maggots consuming their own predigested pablum. You Can't Be Serious is the excretion.\",\n              author: \"Lydia Tár\",\n              avatar: \"assets/media/avatars/tar.webp\",\n              link: \"https://en.wikipedia.org/wiki/T%C3%A1r\"\n          }\n      ]\n  };\n\n  const WEATHER_ICONS = {\n      sunny: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M12 17a5 5 0 100-10 5 5 0 000 10zM12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      cloudy: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M18 10h-1.26A8 8 0 109 20h9a5 5 0 000-10z\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      'partly cloudy': `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M12 4a4 4 0 100 8 4 4 0 000-8zM18 10h-1.26A4 4 0 109 20h9a5 5 0 000-10z\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      rainy: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M20 16.58A5 5 0 0018 7h-1.26A8 8 0 104 15.25M8 13v8M16 13v8M12 15v8\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      drizzle: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M20 16.58A5 5 0 0018 7h-1.26A8 8 0 104 15.25M8 13v8M16 13v8M12 15v8\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      snow: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M20 17.58A5 5 0 0018 8h-1.26A8 8 0 104 16.25M8 16h.01M8 20h.01M12 18h.01M12 22h.01M16 16h.01M16 20h.01\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`,\n      foggy: `\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class=\"weather-icon inline-icon\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M3 8h18M3 12h18M3 16h18\"\n                    stroke-width=\"2\" stroke-linecap=\"round\"/>\n          </svg>`\n  };\n\n// Rate limiter utility to prevent abuse\nconst RateLimiter = {\n    getKey(action) {\n        // Create a key based on the current minute\n        const now = Math.floor(Date.now() / 1000 / 60);\n        return `rateLimit_${action}_${now}`;\n    },\n\n    increment(action, limit) {\n        const key = this.getKey(action);\n        // Get current count or start at 0\n        let count = parseInt(sessionStorage.getItem(key) || '0');\n        count++;\n        // Store updated count\n        sessionStorage.setItem(key, count.toString());\n        return count <= limit;\n    },\n\n    checkLimit(action, limit = 60, windowMs = 60000) {\n        // Clean up old entries first\n        this.cleanup();\n        return this.increment(action, limit);\n    },\n\n    cleanup() {\n        const now = Math.floor(Date.now() / 1000 / 60);\n        // Iterate through all storage items\n        for (let i = 0; i < sessionStorage.length; i++) {\n            const key = sessionStorage.key(i);\n            if (key && key.startsWith('rateLimit_')) {\n                const timeKey = parseInt(key.split('_')[2]);\n                // Remove entries older than 5 minutes\n                if (now - timeKey > 5) {\n                    sessionStorage.removeItem(key);\n                }\n            }\n        }\n    }\n};\n\n// Sanitize text to prevent XSS attacks\nfunction sanitizeText(text, maxLength = 150) {\n    if (!text) return '';\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.textContent\n        .slice(0, maxLength)\n        .replace(/javascript:|data:|vbscript:|file:|blob:|ftp:|ws:|wss:/i, '')\n        .replace(/[<>'\"`{}()\\[\\]]/g, '');\n}\n\n// Add to Clipboard functionality\nasync function handleClipboardClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!RateLimiter.checkLimit('clipboardCopy', 10)) {\n        console.warn('Too many clipboard attempts');\n        return;\n    }\n\n    const article = e.target.closest('article');\n    if (!article) return;\n\n    const articleLink = article.querySelector('h2 a');\n    const url = articleLink ? articleLink.href : window.location.href;\n\n    try {\n        await navigator.clipboard.writeText(url);\n        const target = e.target.closest('.copy-url');\n        showCopyAlert(target, true);\n    } catch (err) {\n        console.error('Failed to copy URL:', err);\n        showCopyAlert(e.target, false);\n    }\n}\n\n// Show copy confirmation alert\nfunction showCopyAlert(target, success = true) {\n    if (!target) return;\n\n    const dropdown = target.closest('.dropdown');\n    if (!dropdown) return;\n\n    // Close the dropdown\n    const dropdownContent = dropdown.querySelector('.dropdown-content');\n    if (dropdownContent) {\n        dropdownContent.style.display = 'none';\n    }\n\n    const rect = dropdown.getBoundingClientRect();\n    const alertBox = document.createElement('div');\n    alertBox.className = 'copy-alert';\n    alertBox.setAttribute('role', 'alert');\n    alertBox.setAttribute('aria-live', 'polite');\n\n    Object.assign(alertBox.style, {\n        position: 'fixed',\n        left: `${rect.left + (rect.width / 2)}px`,\n        bottom: `${window.innerHeight - rect.top + 10}px`,\n        backgroundColor: success ? '#333' : '#dc3545',\n        color: 'white',\n        padding: '12px 24px',\n        borderRadius: '8px',\n        zIndex: '1000',\n        fontSize: '16px',\n        fontFamily: 'var(--font-primary)',\n        opacity: '0',\n        transition: 'opacity 0.3s ease-in-out',\n        whiteSpace: 'nowrap',\n        transform: 'translateX(-50%)'\n    });\n\n    alertBox.textContent = success ? 'URL copied to clipboard' : 'Failed to copy URL';\n    document.body.appendChild(alertBox);\n\n    requestAnimationFrame(() => {\n        alertBox.style.opacity = '1';\n        setTimeout(() => {\n            alertBox.style.opacity = '0';\n            setTimeout(() => alertBox.remove(), 300);\n        }, 2000);\n    });\n}\n\n// Get WhatsApp share URL\nfunction getWhatsAppShareUrl(url, title) {\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n    const whatsappBase = isMobile ? 'whatsapp://send' : 'https://web.whatsapp.com/send';\n    const shareText = `${title}\\n\\n${url}`;\n    return `${whatsappBase}?text=${encodeURIComponent(shareText)}`;\n}\n\n// Email sharing handler\nfunction handleEmailShare(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!RateLimiter.checkLimit('emailShare', 10)) {\n        console.warn('Too many email share attempts');\n        return;\n    }\n\n    const article = e.target.closest('article');\n    if (!article) return;\n\n    const articleLink = article.querySelector('h2 a');\n    const url = articleLink ? articleLink.href : window.location.href;\n    const rawTitle = articleLink ? articleLink.textContent : document.title;\n    const sanitizedTitle = sanitizeText(rawTitle);\n\n    const emailSubject = `Check out this article: ${sanitizedTitle}`;\n    const emailBody = `I thought you might enjoy this article:\\n\\n${sanitizedTitle}\\n\\n${url}`;\n    const mailtoUrl = `mailto:?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`;\n\n    // Create and click a temporary link\n    const tempLink = document.createElement('a');\n    tempLink.href = mailtoUrl;\n    tempLink.style.display = 'none';\n    document.body.appendChild(tempLink);\n    tempLink.click();\n    document.body.removeChild(tempLink);\n}\n\n// Initialize dropdown toggling with JavaScript instead of CSS hover\nfunction initDropdowns() {\n    const dropdowns = document.querySelectorAll('.dropdown');\n\n    dropdowns.forEach(dropdown => {\n        const dropbtn = dropdown.querySelector('.dropbtn');\n        const dropdownContent = dropdown.querySelector('.dropdown-content');\n\n        if (!dropbtn || !dropdownContent) return;\n\n        // Add click event to toggle dropdown\n        dropbtn.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n\n            // Close all other dropdowns first\n            document.querySelectorAll('.dropdown-content').forEach(content => {\n                if (content !== dropdownContent) {\n                    content.style.display = 'none';\n                }\n            });\n\n            // Toggle this dropdown\n            const isVisible = dropdownContent.style.display === 'block';\n            dropdownContent.style.display = isVisible ? 'none' : 'block';\n\n            // Set styles\n            if (!isVisible) {\n                dropdownContent.style.opacity = '1';\n                dropdownContent.style.visibility = 'visible';\n            }\n        });\n\n        // Close dropdown when clicking outside\n        document.addEventListener('click', () => {\n            dropdownContent.style.display = 'none';\n        });\n    });\n}\n\n// Initialize social sharing functionality\nfunction initSocialSharing() {\n    // Add click event listeners for all sharing buttons\n    document.addEventListener('click', (e) => {\n        // Prevent too many clicks\n        if (!RateLimiter.checkLimit('globalClicks', 100, 60000)) {\n            console.warn('Too many clicks detected');\n            return;\n        }\n\n        // Target is the clicked element OR its closest parent matching the selector\n        const copyUrlButton = e.target.closest('.copy-url');\n        const emailShareButton = e.target.closest('.email-share');\n        const nativeShareButton = e.target.closest('.native-share');\n        const whatsappShareButton = e.target.closest('.whatsapp-share');\n        const mastodonShareButton = e.target.closest('.mastodon-share');\n\n        // Handle clipboard clicks\n        if (copyUrlButton) {\n            handleClipboardClick(e);\n        }\n\n        // Handle email shares\n        if (emailShareButton) {\n            handleEmailShare(e);\n        }\n\n        // Handle native share\n        if (nativeShareButton) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const article = e.target.closest('article');\n            if (!article) return;\n\n            const articleLink = article.querySelector('h2 a');\n            const url = articleLink ? articleLink.href : window.location.href;\n            const rawTitle = articleLink ? articleLink.textContent : document.title;\n            const sanitizedTitle = sanitizeText(rawTitle);\n\n            const shareData = {\n                title: sanitizedTitle,\n                text: sanitizedTitle,\n                url: url\n            };\n\n            // First check if we can share this specific data\n            if (navigator.canShare && navigator.canShare(shareData)) {\n                navigator.share(shareData)\n                    .then(() => console.log('Shared successfully'))\n                    .catch((err) => {\n                        if (err.name !== 'AbortError') {\n                            console.error('Share failed:', err);\n                        }\n                    });\n            } else if (navigator.share) {\n                // Fallback to just checking share API availability\n                navigator.share(shareData)\n                    .then(() => console.log('Shared successfully'))\n                    .catch((err) => {\n                        if (err.name !== 'AbortError') {\n                            console.error('Share failed:', err);\n                        }\n                    });\n            } else {\n                console.log('Web Share API not supported');\n            }\n        }\n\n        // Handle WhatsApp shares\n        if (whatsappShareButton) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const article = e.target.closest('article');\n            if (!article) return;\n\n            const articleLink = article.querySelector('h2 a');\n            const url = articleLink ? articleLink.href : window.location.href;\n            const rawTitle = articleLink ? articleLink.textContent : document.title;\n            const sanitizedTitle = sanitizeText(rawTitle);\n\n            window.open(getWhatsAppShareUrl(url, sanitizedTitle), '_blank', 'noopener,noreferrer');\n        }\n\n        // Handle Mastodon shares\n        if (mastodonShareButton) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (!RateLimiter.checkLimit('mastodonShare', 10)) {\n                console.warn('Too many share attempts');\n                return;\n            }\n\n            const article = e.target.closest('article');\n            if (!article) return;\n\n            const articleLink = article.querySelector('h2 a');\n            const url = articleLink ? articleLink.href : window.location.href;\n            const rawTitle = articleLink ? articleLink.textContent : document.title;\n            const sanitizedTitle = sanitizeText(rawTitle);\n\n            let instance = window.prompt('Enter your Mastodon instance URL:', localStorage.getItem('mastodon-instance') || 'mastodon.social');\n\n            if (instance) {\n                const cleanInstance = instance\n                    .replace(/^https?:\\/\\//, '')\n                    .replace(/\\/$/, '')\n                    .replace(/[<>'\"`{}()\\[\\]]/g, '');\n                const shareText = `${sanitizedTitle}\\n\\n${url}`;\n                const shareUrl = `https://${cleanInstance}/share?text=${encodeURIComponent(shareText)}`;\n                window.open(shareUrl, '_blank', 'noopener,noreferrer');\n                localStorage.setItem('mastodon-instance', cleanInstance);\n            }\n        }\n    });\n\n    // Show native share buttons if supported\n    if (navigator.share) {\n        const nativeShareButtons = document.querySelectorAll('.native-share');\n        nativeShareButtons.forEach(btn => {\n            btn.style.display = 'block';\n        });\n    }\n}\n\n// Wait for DOM to be fully loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n    initMobileMenu();\n    initAppearanceMode();\n    initSmoothScroll();\n    initTouchFeedback();\n    initBookmarkDomainExtractor();\n    initDropdowns();\n    initSocialSharing();\n    initCollapsibleSections();\n    initTestimonials();\n    initWeatherDisplay();\n    initKnicksCounter();\n\n    // Log to confirm script is running\n    console.log('Theme JS initialized including social sharing');\n});\n\n/**\n * Mobile Menu Functionality\n * Handles the hamburger menu toggle and overlay\n */\nfunction initMobileMenu() {\n    const menuToggle = document.querySelector('.menu-toggle');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const overlay = document.querySelector('.overlay');\n\n    if (!menuToggle || !mobileMenu || !overlay) return;\n\n    function toggleMenu() {\n        mobileMenu.classList.toggle('active');\n        overlay.classList.toggle('active');\n\n        // Toggle hamburger animation\n        const spans = menuToggle.querySelectorAll('span');\n        spans[0].style.transform = spans[0].style.transform === 'rotate(45deg) translate(5px, 5px)'\n            ? ''\n            : 'rotate(45deg) translate(5px, 5px)';\n        spans[1].style.opacity = spans[1].style.opacity === '0' ? '1' : '0';\n        spans[2].style.transform = spans[2].style.transform === 'rotate(-45deg) translate(5px, -5px)'\n            ? ''\n            : 'rotate(-45deg) translate(5px, -5px)';\n    }\n\n    menuToggle.addEventListener('click', toggleMenu);\n    overlay.addEventListener('click', toggleMenu);\n}\n\n/**\n * Appearance Mode Settings\n * Handles light/dark/auto mode based on user preference\n */\nfunction initAppearanceMode() {\n    const appearanceOptions = document.querySelectorAll('input[name=\"appearance\"]');\n\n    // First try the more advanced appearance mode options\n    if (appearanceOptions && appearanceOptions.length > 0) {\n        initAdvancedAppearanceMode(appearanceOptions);\n    } else {\n        // Fall back to simple dark mode toggle\n        initSimpleDarkModeToggle();\n    }\n}\n\n/**\n * Advanced appearance mode with light/dark/auto options\n */\nfunction initAdvancedAppearanceMode(appearanceOptions) {\n    // Function to apply appearance mode\n    function setAppearanceMode(mode) {\n        if (mode === 'auto') {\n            // Use system preference\n            const prefersDark = window.matchMedia &&\n                window.matchMedia('(prefers-color-scheme: dark)').matches;\n            document.body.classList.toggle('dark-mode', prefersDark);\n        } else if (mode === 'dark') {\n            document.body.classList.add('dark-mode');\n        } else {\n            document.body.classList.remove('dark-mode');\n        }\n\n        // Save to localStorage\n        safeLocalStorageSet('appearanceMode', mode);\n    }\n\n    // Add listeners to radio buttons\n    appearanceOptions.forEach(option => {\n        option.addEventListener('change', function() {\n            setAppearanceMode(this.value);\n        });\n    });\n\n    // Set initial state based on saved preference\n    const savedMode = safeLocalStorageGet('appearanceMode', 'auto');\n    const modeInput = document.querySelector(`input[name=\"appearance\"][value=\"${savedMode}\"]`);\n    if (modeInput) {\n        modeInput.checked = true;\n        setAppearanceMode(savedMode);\n    }\n\n    // Listen for system preference changes\n    if (window.matchMedia) {\n        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {\n            const currentMode = safeLocalStorageGet('appearanceMode', 'auto');\n            if (currentMode === 'auto') {\n                setAppearanceMode('auto');\n            }\n        });\n    }\n}\n\n/**\n * Simple dark mode toggle (fallback)\n */\nfunction initSimpleDarkModeToggle() {\n    const darkModeToggle = document.querySelector('.dark-mode-toggle');\n    if (!darkModeToggle) return;\n\n    function toggleDarkMode() {\n        document.body.classList.toggle('dark-mode');\n        safeLocalStorageSet('darkMode', document.body.classList.contains('dark-mode'));\n    }\n\n    // Check user preference\n    try {\n        if ((safeLocalStorageGet('darkMode') === 'true') ||\n            (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n            document.body.classList.add('dark-mode');\n        }\n    } catch (e) {\n        console.log('Unable to check dark mode preferences');\n    }\n\n    darkModeToggle.addEventListener('click', toggleDarkMode);\n}\n\n/**\n * Enable smooth scrolling behavior\n */\nfunction initSmoothScroll() {\n    document.documentElement.style.scrollBehavior = 'smooth';\n}\n\n/**\n * Add touch feedback for mobile devices\n */\nfunction initTouchFeedback() {\n    const interactiveElements = document.querySelectorAll('button, .page-link, .card');\n\n    interactiveElements.forEach(element => {\n        element.addEventListener('touchstart', () => {\n            element.style.opacity = '0.7';\n        });\n\n        element.addEventListener('touchend', () => {\n            element.style.opacity = '1';\n        });\n    });\n}\n\n/**\n * Extract and display root domain and favicon from bookmark URLs\n *\n * This function finds the first link in bookmark post content,\n * extracts the root domain, and attempts to load the favicon\n * for display purposes.\n */\nfunction initBookmarkDomainExtractor() {\n   // Find all bookmark articles\n   const bookmarks = document.querySelectorAll('.bookmark');\n\n   bookmarks.forEach(bookmark => {\n     // Find the first link within the bookmark comment section\n     const bookmarkComment = bookmark.querySelector('.bookmark-comment');\n     if (!bookmarkComment) return;\n\n     const firstLink = bookmarkComment.querySelector('a');\n     if (!firstLink) return;\n\n     // Get the URL from the first link\n     const url = firstLink.href;\n\n     try {\n       // Parse the URL to extract the hostname\n       const urlObj = new URL(url);\n       let domain = urlObj.hostname;\n       const origin = urlObj.origin;\n\n       // Remove 'www.' prefix if present for display\n       let displayDomain = domain;\n       if (displayDomain.startsWith('www.')) {\n         displayDomain = displayDomain.substring(4);\n       }\n\n       // Create a source element to display the domain and favicon\n       const sourceEl = document.createElement('div');\n       sourceEl.className = 'bookmark-source';\n\n       // Create favicon element with fallback\n       const faviconEl = document.createElement('div');\n       faviconEl.className = 'bookmark-favicon';\n\n       // Try multiple favicon approaches\n       // First try Google's favicon service\n       const googleFaviconUrl = `https://www.google.com/s2/favicons?domain=${domain}&sz=32`;\n\n       // Create the favicon image\n       const faviconImg = document.createElement('img');\n       faviconImg.src = googleFaviconUrl;\n       faviconImg.alt = '';\n       faviconImg.className = 'bookmark-favicon-img';\n\n       // Add fallback if favicon fails to load\n       faviconImg.onerror = function() {\n         faviconEl.innerHTML = `\n           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n             <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n             <line x1=\"2\" y1=\"12\" x2=\"22\" y2=\"12\"></line>\n             <path d=\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\"></path>\n           </svg>\n         `;\n       };\n\n       faviconEl.appendChild(faviconImg);\n\n       // Assemble the source element\n       sourceEl.appendChild(faviconEl);\n       // Add \"via\" text before the domain name\n       sourceEl.innerHTML += `<span class=\"bookmark-source-text\"><span class=\"bookmark-via\">via</span> ${displayDomain}</span>`;\n\n       // Add the source element after the bookmark header\n       const bookmarkHeader = bookmark.querySelector('.bookmark-header');\n       if (bookmarkHeader) {\n         bookmarkHeader.insertAdjacentElement('afterend', sourceEl);\n       }\n     } catch (e) {\n       console.error('Error parsing URL:', e);\n     }\n   });\n }\n\n /**\n  * Initialize collapsible sections in the sidebar\n  * Handles expanding/collapsing of section content\n  * Only the first section is expanded by default\n  */\n function initCollapsibleSections() {\n   const collapsibleHeaders = document.querySelectorAll('.collapsible-header');\n\n   if (collapsibleHeaders.length === 0) return;\n\n   collapsibleHeaders.forEach((header) => {\n     const section = header.parentElement;\n     const content = section.querySelector('.collapsible-content');\n     const icon = header.querySelector('.collapsible-icon');\n\n     // Set all sections to collapsed by default\n     if (!icon.classList.contains('collapsed')) {\n       icon.classList.add('collapsed');\n     }\n     content.classList.add('hidden');\n     content.style.maxHeight = '0px';\n\n     // Add click event\n     header.addEventListener('click', () => {\n       // Toggle icon rotation\n       icon.classList.toggle('collapsed');\n\n       // Toggle content visibility\n       if (content.classList.contains('hidden')) {\n         content.classList.remove('hidden');\n         content.style.maxHeight = content.scrollHeight + 'px';\n       } else {\n         content.style.maxHeight = '0px';\n         // Add a delay before adding the hidden class to allow animation to complete\n         setTimeout(() => {\n           content.classList.add('hidden');\n         }, 300);\n       }\n     });\n   });\n\n   // Handle window resize to adjust content heights for open sections\n   window.addEventListener('resize', () => {\n     const openContents = document.querySelectorAll('.collapsible-content:not(.hidden)');\n     openContents.forEach(content => {\n       content.style.maxHeight = content.scrollHeight + 'px';\n     });\n   });\n }\n\n/**\n  * Initialize Testimonials Rotation\n  * Handles the display and cycling of testimonial quotes\n  */\n function initTestimonials() {\n     const testimonialElement = document.getElementById('testimonal');\n     if (!testimonialElement) return;\n\n     // Create a shuffled array of indices\n     let indices = Array.from({ length: TESTIMONIALS_CONFIG.testimonials.length }, (_, i) => i);\n     let currentIndex = 0;\n\n     // Fisher-Yates shuffle algorithm\n     function shuffleArray(array) {\n         for (let i = array.length - 1; i > 0; i--) {\n             const j = Math.floor(Math.random() * (i + 1));\n             [array[i], array[j]] = [array[j], array[i]];\n         }\n         return array;\n     }\n\n     // Initial shuffle\n     indices = shuffleArray(indices);\n\n     // Create testimonial HTML with proper sanitization\n     function createTestimonialHTML(testimonial) {\n         // Sanitize the input data\n         const sanitizedQuote = sanitizeHTML(testimonial.quote);\n         const sanitizedAuthor = sanitizeHTML(testimonial.author);\n         const sanitizedLink = sanitizeHTML(testimonial.link);\n         const sanitizedAvatar = sanitizeHTML(testimonial.avatar);\n\n         // Replace straight apostrophes with curly ones\n         const withCurlyApostrophes = sanitizedQuote.replaceAll(\"'\", \"\\u2019\");\n\n         return `<div class=\"testimonial-content\">\n             <q>${withCurlyApostrophes}</q>\n             <cite><img class=\"avatar\"\n                  src=\"${sanitizedAvatar}\"\n                  alt=\"${sanitizedAuthor}'s avatar\"\n                  onerror=\"this.style.display='none'\">\n                  <a href=\"${sanitizedLink}\">${sanitizedAuthor} <svg xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"16\"\n                        height=\"16\"\n                        viewBox=\"0 0 24 24\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        stroke-width=\"1.25\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\">\n                        <path d=\"M5 12h14\"/>\n                        <path d=\"m12 5 7 7-7 7\"/>\n                   </svg></a>\n             </cite>\n         </div>`;\n     }\n\n     // Sanitize HTML to prevent XSS\n     function sanitizeHTML(html) {\n         if (!html) return '';\n         // Create a temporary div element\n         const div = document.createElement('div');\n         // Safely convert HTML to text\n         div.textContent = html;\n         // Get the sanitized HTML\n         return div.innerHTML\n             .replace(/<script[^>]*>.*?<\\/script>/gi, '') // Remove script tags\n             .replace(/on\\w+=\"[^\"]*\"/g, '') // Remove event handlers\n             .replace(/href=\"javascript:[^\"]*\"/g, '') // Remove javascript: URLs\n             .replace(/javascript:/gi, '') // Remove javascript: protocol\n             .replace(/data:/gi, '') // Remove data: URLs\n             .replace(/vbscript:/gi, ''); // Remove vbscript: protocol\n     }\n\n     function updateTestimonial() {\n         if (!testimonialElement) return;\n\n         const content = testimonialElement.querySelector('.testimonial-content');\n         if (content) {\n             // Add fade-out class to start the exit animation\n             content.classList.add('fade-out');\n\n             setTimeout(() => {\n                 // Get testimonial using shuffled index\n                 const testimonial = TESTIMONIALS_CONFIG.testimonials[indices[currentIndex]];\n\n                 testimonialElement.innerHTML = createTestimonialHTML(testimonial);\n                 const newContent = testimonialElement.querySelector('.testimonial-content');\n\n                 if (newContent) {\n                     // Set initial state for entrance animation\n                     newContent.classList.add('fade-in');\n\n                     // Force a reflow before starting the entrance animation\n                     newContent.offsetHeight;\n\n                     // Start entrance animation after a small delay\n                     requestAnimationFrame(() => {\n                         requestAnimationFrame(() => {\n                             newContent.classList.remove('fade-in');\n                         });\n                     });\n                 }\n\n                 // Increment index and reshuffle if we've shown all quotes\n                 currentIndex = (currentIndex + 1) % indices.length;\n                 if (currentIndex === 0) {\n                     indices = shuffleArray(indices);\n                 }\n             }, TESTIMONIALS_CONFIG.fadeTransitionMs * 1);\n         }\n     }\n\n     // Add CSS for testimonial transitions\n     const style = document.createElement('style');\n     style.textContent = `\n         .testimonial-content {\n             opacity: 1;\n             transform: translateY(0);\n             transition: opacity ${TESTIMONIALS_CONFIG.fadeTransitionMs * 1.0}ms ease-in-out,\n                         transform ${TESTIMONIALS_CONFIG.fadeTransitionMs * 1.0}ms cubic-bezier(0.16, 1, 0.3, 1);\n         }\n         .testimonial-content.fade-out {\n             opacity: 0;\n             transform: translateY(20px);\n         }\n         .testimonial-content.fade-in {\n             opacity: 0;\n             transform: translateY(-20px);\n         }\n     `;\n     document.head.appendChild(style);\n\n     // Initialize with first testimonial\n     updateTestimonial();\n\n     // Set up interval for testimonial rotation\n     setInterval(updateTestimonial, TESTIMONIALS_CONFIG.updateInterval);\n }\n\n function initWeatherDisplay() {\n     const tempElement = document.getElementById('current-temp');\n     const conditionElement = document.getElementById('current-condition');\n     if (!tempElement || !conditionElement) return;\n\n     // Map WMO weather codes to simple words\n     // https://open-meteo.com/en/docs#weathervariables\n     const weatherMap = {\n         'sunny': [0, 1],\n         'partly cloudy': [2],\n         'cloudy': [3],\n         'foggy': [45, 48],\n         'drizzle': [51, 53, 55],\n         'rain': [61, 63, 65, 80, 81, 82],\n         'snow': [71, 73, 75, 77, 85, 86],\n         'thunderstorm': [95, 96, 99]\n     };\n\n     function getOneWordWeather(code) {\n         for (const [word, codes] of Object.entries(weatherMap)) {\n             if (codes.includes(code)) return word;\n         }\n         return 'cloudy'; // Default fallback\n     }\n\n     function updateWeatherIcon(condition) {\n         const iconTemplate = WEATHER_ICONS[condition] || WEATHER_ICONS.cloudy;\n         const tempLi = tempElement.closest('li');\n         const existingIcon = tempLi.querySelector('.weather-icon');\n\n         if (existingIcon) {\n             existingIcon.parentElement.remove();\n         }\n\n         const iconContainer = document.createElement('span');\n         iconContainer.className = 'weather-icon-container';\n         iconContainer.innerHTML = iconTemplate;\n\n         tempLi.insertBefore(iconContainer, tempLi.firstChild);\n     }\n\n async function getWeatherData() {\n         try {\n             // Clear existing cache first\n             localStorage.removeItem('weather_cache');\n\n             const lat = 43.66147;\n             const lon = -70.25533;\n             const url = new URL('https://api.open-meteo.com/v1/forecast');\n             url.searchParams.set('latitude', lat);\n             url.searchParams.set('longitude', lon);\n             url.searchParams.set('current', 'temperature_2m,weather_code');\n             url.searchParams.set('temperature_unit', 'fahrenheit');\n             url.searchParams.set('_cb', Math.random());\n\n             const response = await fetch(url);\n             if (!response.ok) throw new Error('Weather API request failed');\n\n             const data = await response.json();\n\n             // Use ISO string for timestamp\n             const result = {\n                 temp: Math.round(data.current.temperature_2m),\n                 condition: getOneWordWeather(data.current.weather_code),\n                 lastUpdated: new Date().toISOString()\n             };\n\n             console.log('Weather update:', {\n                 temp: result.temp,\n                 condition: result.condition,\n                 lastUpdated: result.lastUpdated,\n                 localTime: new Date().toLocaleString('en-US', { timeZone: 'America/New_York' })\n             });\n\n             localStorage.setItem('weather_cache', JSON.stringify(result));\n\n             return {\n                 temp: result.temp,\n                 condition: result.condition\n             };\n\n         } catch (error) {\n             console.error('Error fetching weather:', error);\n             return { temp: '--', condition: 'cloudy' };\n         }\n     }\n\n     async function updateDisplay() {\n         try {\n             // Clear any existing interval when we start a new update\n             if (window.weatherUpdateInterval) {\n                 clearInterval(window.weatherUpdateInterval);\n             }\n\n             const updateWeatherDisplay = async () => {\n                 try {\n                     const weather = await getWeatherData();\n\n                     if (!tempElement || !conditionElement) {\n                         console.error('Weather elements not found');\n                         return;\n                     }\n\n                     tempElement.textContent = `${weather.temp}°F`;\n                     conditionElement.textContent = ` ${weather.condition}`;\n                     updateWeatherIcon(weather.condition);\n\n                     tempElement.setAttribute('aria-label',\n                         `Current temperature is ${weather.temp} degrees Fahrenheit and ${weather.condition}`\n                     );\n                 } catch (error) {\n                     console.error('Error updating weather display:', error);\n                 }\n             };\n\n             // Initial update\n             await updateWeatherDisplay();\n\n             // Set up periodic updates every 3 hours\n             const threeHours = 3 * 60 * 60 * 1000; // 3 hours in milliseconds\n             window.weatherUpdateInterval = setInterval(updateWeatherDisplay, threeHours);\n\n             // Clean up interval when page is hidden\n             document.addEventListener('visibilitychange', () => {\n                 if (document.hidden && window.weatherUpdateInterval) {\n                     clearInterval(window.weatherUpdateInterval);\n                 } else if (!document.hidden && !window.weatherUpdateInterval) {\n                     // Check when was the last update\n                     const cached = localStorage.getItem('weather_cache');\n                     if (cached) {\n                         const data = JSON.parse(cached);\n                         const lastUpdate = new Date(data.lastUpdated);\n                         const threeHoursAgo = new Date(Date.now() - threeHours);\n\n                         // Only update if last update was more than 3 hours ago\n                         if (lastUpdate < threeHoursAgo) {\n                             updateWeatherDisplay();\n                             window.weatherUpdateInterval = setInterval(updateWeatherDisplay, threeHours);\n                         }\n                     } else {\n                         // No cache exists, do an update\n                         updateWeatherDisplay();\n                         window.weatherUpdateInterval = setInterval(updateWeatherDisplay, threeHours);\n                     }\n                 }\n             });\n\n         } catch (error) {\n             console.error('Error in weather update system:', error);\n         }\n     }\n\n     // Start the weather display system\n     updateDisplay();\n }\n\n ////////// Knicks Championship Counter //////////\n function initKnicksCounter() {\n     const counterElement = document.getElementById('knicks-counter');\n     if (!counterElement) return;\n\n     function calculateDays() {\n         const championship = new Date('1973-05-10T00:00:00-05:00'); // EST timezone\n         const now = new Date();\n         const est = new Date(now.toLocaleString('en-US', { timeZone: 'America/New_York' }));\n         const diff = est - championship;\n         const daysSince = Math.floor(diff / (1000 * 60 * 60 * 24));\n         counterElement.textContent = `${daysSince.toLocaleString()} Days Ago`;\n     }\n\n     // Calculate initial days\n     calculateDays();\n\n     // Calculate time until next midnight EST\n     function setMidnightUpdate() {\n         const now = new Date();\n         const est = new Date(now.toLocaleString('en-US', { timeZone: 'America/New_York' }));\n         const tomorrow = new Date(est);\n         tomorrow.setDate(tomorrow.getDate() + 1);\n         tomorrow.setHours(0, 0, 0, 0);\n         const msUntilMidnight = tomorrow - est;\n\n         // Update at midnight\n         setTimeout(() => {\n             calculateDays();\n             // After first midnight, update every 24 hours\n             setInterval(calculateDays, 24 * 60 * 60 * 1000);\n         }, msUntilMidnight);\n     }\n\n     setMidnightUpdate();\n }\n\n/**\n * Utility: Safely get value from localStorage\n */\nfunction safeLocalStorageGet(key, defaultValue = null) {\n    try {\n        if (window.localStorage) {\n            const value = localStorage.getItem(key);\n            return value !== null ? value : defaultValue;\n        }\n    } catch (e) {\n        console.log('localStorage not available');\n    }\n    return defaultValue;\n}\n\n/**\n * Utility: Safely set value in localStorage\n */\nfunction safeLocalStorageSet(key, value) {\n    try {\n        if (window.localStorage) {\n            localStorage.setItem(key, value);\n            return true;\n        }\n    } catch (e) {\n        console.log('localStorage not available');\n    }\n    return false;\n}\n"],"names":["TESTIMONIALS_CONFIG","updateInterval","fadeTransitionMs","testimonials","quote","author","avatar","link","WEATHER_ICONS","sunny","cloudy","rainy","drizzle","snow","foggy","RateLimiter","getKey","action","Math","floor","Date","now","increment","limit","key","this","count","parseInt","sessionStorage","getItem","setItem","toString","checkLimit","arguments","length","undefined","cleanup","i","startsWith","split","removeItem","sanitizeText","text","maxLength","div","document","createElement","textContent","slice","replace","showCopyAlert","target","success","dropdown","closest","dropdownContent","querySelector","style","display","rect","getBoundingClientRect","alertBox","className","setAttribute","Object","assign","position","left","width","bottom","window","innerHeight","top","backgroundColor","color","padding","borderRadius","zIndex","fontSize","fontFamily","opacity","transition","whiteSpace","transform","body","appendChild","requestAnimationFrame","setTimeout","remove","initSocialSharing","addEventListener","e","console","warn","copyUrlButton","emailShareButton","nativeShareButton","whatsappShareButton","mastodonShareButton","async","preventDefault","stopPropagation","article","articleLink","url","href","location","navigator","clipboard","writeText","err","error","handleClipboardClick","sanitizedTitle","title","emailBody","mailtoUrl","encodeURIComponent","tempLink","click","removeChild","handleEmailShare","shareData","canShare","share","then","log","catch","name","open","test","userAgent","getWhatsAppShareUrl","instance","prompt","localStorage","cleanInstance","shareUrl","querySelectorAll","forEach","btn","safeLocalStorageGet","defaultValue","value","safeLocalStorageSet","menuToggle","mobileMenu","overlay","toggleMenu","classList","toggle","spans","initMobileMenu","appearanceOptions","setAppearanceMode","mode","prefersDark","matchMedia","matches","add","option","savedMode","modeInput","checked","initAdvancedAppearanceMode","darkModeToggle","toggleDarkMode","contains","initSimpleDarkModeToggle","initAppearanceMode","documentElement","scrollBehavior","element","bookmark","bookmarkComment","firstLink","urlObj","URL","domain","hostname","origin","displayDomain","substring","sourceEl","faviconEl","googleFaviconUrl","faviconImg","src","alt","onerror","innerHTML","bookmarkHeader","insertAdjacentElement","dropbtn","content","isVisible","visibility","collapsibleHeaders","header","parentElement","icon","maxHeight","scrollHeight","initCollapsibleSections","testimonialElement","getElementById","indices","Array","from","_","currentIndex","shuffleArray","array","j","random","createTestimonialHTML","testimonial","sanitizedQuote","sanitizeHTML","sanitizedAuthor","sanitizedLink","sanitizedAvatar","replaceAll","html","updateTestimonial","newContent","offsetHeight","head","setInterval","initTestimonials","tempElement","conditionElement","weatherMap","rain","thunderstorm","getOneWordWeather","code","word","codes","entries","includes","updateWeatherIcon","condition","iconTemplate","tempLi","existingIcon","iconContainer","insertBefore","firstChild","getWeatherData","lat","lon","searchParams","set","response","fetch","ok","Error","data","json","result","temp","round","current","temperature_2m","weather_code","lastUpdated","toISOString","localTime","toLocaleString","timeZone","JSON","stringify","updateDisplay","weatherUpdateInterval","clearInterval","updateWeatherDisplay","weather","threeHours","hidden","cached","parse","initWeatherDisplay","counterElement","calculateDays","championship","diff","daysSince","setMidnightUpdate","est","tomorrow","setDate","getDate","setHours","initKnicksCounter"],"mappings":"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"}